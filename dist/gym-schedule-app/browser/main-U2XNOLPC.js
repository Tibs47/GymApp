import{b as Br,c as ru}from"./chunk-JENGY3ED.js";import{a as y,b as B,d as p}from"./chunk-PYQTE2ZK.js";var ou=null;var Ki=1,iu=Symbol("SIGNAL");function j(t){let e=ou;return ou=t,e}var su={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hp(t){if(!(es(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ki)){if(!t.producerMustRecompute(t)&&!Ji(t)){t.dirty=!1,t.lastCleanEpoch=Ki;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ki}}function au(t){return t&&(t.nextProducerIndex=0),j(t)}function cu(t,e){if(j(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(es(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xi(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ji(t){Hr(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(hp(n),r!==n.version))return!0}return!1}function uu(t){if(Hr(t),es(t))for(let e=0;e<t.producerNode.length;e++)Xi(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xi(t,e){if(pp(t),Hr(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Xi(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];Hr(o),o.producerIndexOfThis[r]=e}}function es(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gp(){throw new Error}var mp=gp;function lu(t){mp=t}function C(t){return typeof t=="function"}function Lt(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zr=Lt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var q=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(C(r))try{r()}catch(i){e=i instanceof zr?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{du(i)}catch(s){e=e??[],s instanceof zr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)du(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mn(n,e)}remove(e){let{_finalizers:n}=this;n&&Mn(n,e),e instanceof t&&e._removeParent(this)}};q.EMPTY=(()=>{let t=new q;return t.closed=!0,t})();var ts=q.EMPTY;function qr(t){return t instanceof q||t&&"closed"in t&&C(t.remove)&&C(t.add)&&C(t.unsubscribe)}function du(t){C(t)?t():t.unsubscribe()}var Ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jt={setTimeout(t,e,...n){let{delegate:r}=jt;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=jt;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Gr(t){jt.setTimeout(()=>{let{onUnhandledError:e}=Ce;if(e)e(t);else throw t})}function An(){}var fu=ns("C",void 0,void 0);function hu(t){return ns("E",void 0,t)}function pu(t){return ns("N",t,void 0)}function ns(t,e,n){return{kind:t,value:e,error:n}}var ft=null;function $t(t){if(Ce.useDeprecatedSynchronousErrorHandling){let e=!ft;if(e&&(ft={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ft;if(ft=null,n)throw r}}else t()}function gu(t){Ce.useDeprecatedSynchronousErrorHandling&&ft&&(ft.errorThrown=!0,ft.error=t)}var ht=class extends q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qr(e)&&e.add(this)):this.destination=wp}static create(e,n,r){return new Ut(e,n,r)}next(e){this.isStopped?os(pu(e),this):this._next(e)}error(e){this.isStopped?os(hu(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?os(fu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vp=Function.prototype.bind;function rs(t,e){return vp.call(t,e)}var is=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wr(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wr(r)}else Wr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wr(n)}}},Ut=class extends ht{constructor(e,n,r){super();let o;if(C(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ce.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&rs(e.next,i),error:e.error&&rs(e.error,i),complete:e.complete&&rs(e.complete,i)}):o=e}this.destination=new is(o)}};function Wr(t){Ce.useDeprecatedSynchronousErrorHandling?gu(t):Gr(t)}function yp(t){throw t}function os(t,e){let{onStoppedNotification:n}=Ce;n&&jt.setTimeout(()=>n(t,e))}var wp={closed:!0,next:An,error:yp,complete:An};var Vt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function oe(t){return t}function ss(...t){return as(t)}function as(t){return t.length===0?oe:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=bp(n)?n:new Ut(n,r,o);return $t(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mu(r),new r((o,i)=>{let s=new Ut({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vt](){return this}pipe(...n){return as(n)(this)}toPromise(n){return n=mu(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function mu(t){var e;return(e=t??Ce.Promise)!==null&&e!==void 0?e:Promise}function Dp(t){return t&&C(t.next)&&C(t.error)&&C(t.complete)}function bp(t){return t&&t instanceof ht||Dp(t)&&qr(t)}function cs(t){return C(t?.lift)}function A(t){return e=>{if(cs(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(t,e,n,r,o){return new us(t,e,n,r,o)}var us=class extends ht{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bt(){return A((t,e)=>{let n=null;t._refCount++;let r=R(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ht=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cs(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new q;let n=this.getSubject();e.add(this.source.subscribe(R(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=q.EMPTY)}return e}refCount(){return Bt()(this)}};var vu=Lt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Yr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vu}next(n){$t(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$t(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$t(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?ts:(this.currentObservers=null,i.push(n),new q(()=>{this.currentObservers=null,Mn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new Yr(e,n),t})(),Yr=class extends ie{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ts}};var J=class extends ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var de=new $(t=>t.complete());function yu(t){return t&&C(t.schedule)}function wu(t){return t[t.length-1]}function Du(t){return C(wu(t))?t.pop():void 0}function Qe(t){return yu(wu(t))?t.pop():void 0}function Cu(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function bu(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(t){return this instanceof pt?(this.v=t,this):new pt(t)}function Eu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(f){r[f]&&(o[f]=function(h){return new Promise(function(g,m){i.push([f,h,g,m])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof pt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Iu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bu=="function"?bu(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var Zr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qr(t){return C(t?.then)}function Kr(t){return C(t[Vt])}function Jr(t){return Symbol.asyncIterator&&C(t?.[Symbol.asyncIterator])}function Xr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Cp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var eo=Cp();function to(t){return C(t?.[eo])}function no(t){return Eu(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield pt(n.read());if(o)return yield pt(void 0);yield yield pt(r)}}finally{n.releaseLock()}})}function ro(t){return C(t?.getReader)}function Y(t){if(t instanceof $)return t;if(t!=null){if(Kr(t))return Ep(t);if(Zr(t))return Ip(t);if(Qr(t))return _p(t);if(Jr(t))return _u(t);if(to(t))return Sp(t);if(ro(t))return Tp(t)}throw Xr(t)}function Ep(t){return new $(e=>{let n=t[Vt]();if(C(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ip(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _p(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Gr)})}function Sp(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _u(t){return new $(e=>{xp(t,e).catch(n=>e.error(n))})}function Tp(t){return _u(no(t))}function xp(t,e){var n,r,o,i;return Cu(this,void 0,void 0,function*(){try{for(n=Iu(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function re(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function oo(t,e=0){return A((n,r)=>{n.subscribe(R(r,o=>re(r,t,()=>r.next(o),e),()=>re(r,t,()=>r.complete(),e),o=>re(r,t,()=>r.error(o),e)))})}function io(t,e=0){return A((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Su(t,e){return Y(t).pipe(io(e),oo(e))}function Tu(t,e){return Y(t).pipe(io(e),oo(e))}function xu(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Mu(t,e){return new $(n=>{let r;return re(n,e,()=>{r=t[eo](),re(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>C(r?.return)&&r.return()})}function so(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{re(n,e,()=>{let r=t[Symbol.asyncIterator]();re(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Au(t,e){return so(no(t),e)}function Ru(t,e){if(t!=null){if(Kr(t))return Su(t,e);if(Zr(t))return xu(t,e);if(Qr(t))return Tu(t,e);if(Jr(t))return so(t,e);if(to(t))return Mu(t,e);if(ro(t))return Au(t,e)}throw Xr(t)}function G(t,e){return e?Ru(t,e):Y(t)}function E(...t){let e=Qe(t);return G(t,e)}function zt(t,e){let n=C(t)?t:()=>t,r=o=>o.error(n());return new $(e?o=>e.schedule(r,0,o):r)}function ls(t){return!!t&&(t instanceof $||C(t.lift)&&C(t.subscribe))}var Ue=Lt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function N(t,e){return A((n,r)=>{let o=0;n.subscribe(R(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:Mp}=Array;function Ap(t,e){return Mp(e)?t(...e):t(e)}function Nu(t){return N(e=>Ap(t,e))}var{isArray:Rp}=Array,{getPrototypeOf:Np,prototype:Op,keys:kp}=Object;function Ou(t){if(t.length===1){let e=t[0];if(Rp(e))return{args:e,keys:null};if(Pp(e)){let n=kp(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Pp(t){return t&&typeof t=="object"&&Np(t)===Op}function ku(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function ao(...t){let e=Qe(t),n=Du(t),{args:r,keys:o}=Ou(t);if(r.length===0)return G([],e);let i=new $(Fp(r,e,o?s=>ku(o,s):oe));return n?i.pipe(Nu(n)):i}function Fp(t,e,n=oe){return r=>{Pu(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Pu(e,()=>{let u=G(t[c],e),l=!1;u.subscribe(R(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Pu(t,e,n){t?re(n,t,e):e()}function Fu(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,f=()=>{d&&!c.length&&!u&&e.complete()},h=m=>u<r?g(m):c.push(m),g=m=>{i&&e.next(m),u++;let b=!1;Y(n(m,l++)).subscribe(R(e,M=>{o?.(M),i?h(M):e.next(M)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){let M=c.shift();s?re(e,s,()=>g(M)):g(M)}f()}catch(M){e.error(M)}}))};return t.subscribe(R(e,h,()=>{d=!0,f()})),()=>{a?.()}}function W(t,e,n=1/0){return C(e)?W((r,o)=>N((i,s)=>e(r,i,o,s))(Y(t(r,o))),n):(typeof e=="number"&&(n=e),A((r,o)=>Fu(r,o,t,n)))}function ds(t=1/0){return W(oe,t)}function Lu(){return ds(1)}function qt(...t){return Lu()(G(t,Qe(t)))}function co(t){return new $(e=>{Y(t()).subscribe(e)})}function Ee(t,e){return A((n,r)=>{let o=0;n.subscribe(R(r,i=>t.call(e,i,o++)&&r.next(i)))})}function Ke(t){return A((e,n)=>{let r=null,o=!1,i;r=e.subscribe(R(n,void 0,void 0,s=>{i=Y(t(s,Ke(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function ju(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(R(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Gt(t,e){return C(e)?W(t,e,1):W(t,1)}function Je(t){return A((e,n)=>{let r=!1;e.subscribe(R(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Ve(t){return t<=0?()=>de:A((e,n)=>{let r=0;e.subscribe(R(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function fs(t){return N(()=>t)}function uo(t=Lp){return A((e,n)=>{let r=!1;e.subscribe(R(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function Lp(){return new Ue}function Rn(t){return A((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ae(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ee((o,i)=>t(o,i,r)):oe,Ve(1),n?Je(e):uo(()=>new Ue))}function Wt(t){return t<=0?()=>de:A((e,n)=>{let r=[];e.subscribe(R(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function hs(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ee((o,i)=>t(o,i,r)):oe,Wt(1),n?Je(e):uo(()=>new Ue))}function ps(t,e){return A(ju(t,e,arguments.length>=2,!0))}function gs(...t){let e=Qe(t);return A((n,r)=>{(e?qt(t,n,e):qt(t,n)).subscribe(r)})}function Ie(t,e){return A((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(R(r,c=>{o?.unsubscribe();let u=0,l=i++;Y(t(c,l)).subscribe(o=R(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ms(t){return A((e,n)=>{Y(t).subscribe(R(n,()=>n.complete(),An)),!n.closed&&e.subscribe(n)})}function Z(t,e,n){let r=C(t)||e||n?{next:t,error:e,complete:n}:t;return r?A((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(R(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):oe}var w=class extends Error{constructor(e,n){super(la(e,n)),this.code=e}};function la(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var xs=class extends ie{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=j(null);try{super.next(e)}finally{j(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=vs(i),o&&(o=vs(o)),s&&(s=vs(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof q&&e.add(a),a}};function vs(t){return e=>{setTimeout(t,void 0,e)}}var Se=xs;var S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(S||{});function se(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $u(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var wl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wl||{}),Oe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Oe||{});function Wn(t){return{toString:t}.toString()}var Nn=globalThis;var Fn={},Re=[];function U(t){for(let e in t)if(t[e]===U)return e;throw Error("Could not find renamed property on target object.")}var jp=U({\u0275cmp:U}),$p=U({\u0275dir:U}),Up=U({\u0275pipe:U}),Vp=U({\u0275mod:U}),vo=U({\u0275fac:U}),On=U({__NG_ELEMENT_ID__:U}),Uu=U({__NG_ENV_ID__:U}),tt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tt||{});function Dl(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function Ms(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];Hp(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function Bp(t){return t===3||t===4||t===6}function Hp(t){return t.charCodeAt(0)===64}function da(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Vu(t,n,o,null,e[++r]):Vu(t,n,o,null,null))}}return t}function Vu(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(t[i+1]=o);return}else if(r===t[i+1]){t[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),o!==null&&t.splice(i++,0,o)}var bl="ng-template";function zp(t,e,n){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if(typeof i=="string"&&o){let s=t[r++];if(n&&i==="class"&&Dl(s.toLowerCase(),e,0)!==-1)return!0}else if(i===1){for(;r<t.length&&typeof(i=t[r++])=="string";)if(i.toLowerCase()===e)return!0;return!1}else typeof i=="number"&&(o=!1)}return!1}function Cl(t){return t.type===4&&t.value!==bl}function qp(t,e,n){let r=t.type===4&&!n?bl:t.value;return e===r}function Gp(t,e,n){let r=4,o=t.attrs||[],i=Zp(o),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!_e(r)&&!_e(c))return!1;if(s&&_e(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!qp(t,c,n)||c===""&&e.length===1){if(_e(r))return!1;s=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!zp(t.attrs,u,n)){if(_e(r))return!1;s=!0}continue}let l=r&8?"class":c,d=Wp(l,o,Cl(t),n);if(d===-1){if(_e(r))return!1;s=!0;continue}if(u!==""){let f;d>i?f="":f=o[d+1].toLowerCase();let h=r&8?f:null;if(h&&Dl(h,u,0)!==-1||r&2&&u!==f){if(_e(r))return!1;s=!0}}}}return _e(r)||s}function _e(t){return(t&1)===0}function Wp(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Qp(e,t)}function Yp(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gp(t,e[r],n))return!0;return!1}function Zp(t){for(let e=0;e<t.length;e++){let n=t[e];if(Bp(n))return e}return t.length}function Qp(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Bu(t,e){return t?":not("+e.trim()+")":e}function Kp(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!_e(s)&&(e+=Bu(i,o),o=""),r=s,i=i||!_e(r);n++}return o!==""&&(e+=Bu(i,o)),e}function Jp(t){return t.map(Kp).join(",")}function Xp(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!_e(o))break;o=i}r++}return{attrs:e,classes:n}}function ko(t){return Wn(()=>{let e=Tl(t),n=B(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Oe.Emulated,styles:t.styles||Re,_:null,schemas:t.schemas||null,tView:null,id:""});xl(n);let r=t.dependencies;return n.directiveDefs=zu(r,!1),n.pipeDefs=zu(r,!0),n.id=ng(n),n})}function eg(t){return mt(t)||El(t)}function tg(t){return t!==null}function Po(t){return Wn(()=>({type:t.type,bootstrap:t.bootstrap||Re,declarations:t.declarations||Re,imports:t.imports||Re,exports:t.exports||Re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hu(t,e){if(t==null)return Fn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a=tt.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(n[i]=a!==tt.None?[r,a]:r,e[i]=s):n[i]=r}return n}function Fo(t){return Wn(()=>{let e=Tl(t);return xl(e),e})}function mt(t){return t[jp]||null}function El(t){return t[$p]||null}function Il(t){return t[Up]||null}function _l(t){let e=mt(t)||El(t)||Il(t);return e!==null?e.standalone:!1}function Sl(t,e){let n=t[Vp]||null;if(!n&&e===!0)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return n}function Tl(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hu(t.inputs,e),outputs:Hu(t.outputs),debugInfo:null}}function xl(t){t.features?.forEach(e=>e(t))}function zu(t,e){if(!t)return null;let n=e?Il:eg;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(tg)}function ng(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ze=0,O=1,D=2,ee=3,Te=4,xe=5,yo=6,qu=7,nt=8,Xt=9,rt=10,ae=11,Ln=12,Gu=13,Yn=14,ke=15,Lo=16,Yt=17,en=18,jo=19,Ml=20,kn=21,ys=22,vt=23,ot=25,Al=1;var yt=7,wo=8,Do=9,pe=10,fa=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(fa||{});function Kt(t){return Array.isArray(t)&&typeof t[Al]=="object"}function qe(t){return Array.isArray(t)&&t[Al]===!0}function Rl(t){return(t.flags&4)!==0}function $o(t){return t.componentOffset>-1}function Nl(t){return(t.flags&1)===1}function Zn(t){return!!t.template}function rg(t){return(t[D]&512)!==0}var og="svg",ig="math",sg=!1;function ag(){return sg}function Be(t){for(;Array.isArray(t);)t=t[ze];return t}function cg(t,e){return Be(e[t])}function Pe(t,e){return Be(e[t.index])}function Ol(t,e){return t.data[e]}function rn(t,e){let n=e[t];return Kt(n)?n:n[ze]}function ha(t){return(t[D]&128)===128}function ug(t){return qe(t[ee])}function bo(t,e){return e==null?null:t[e]}function kl(t){t[Yt]=0}function lg(t){t[D]&1024||(t[D]|=1024,ha(t)&&jn(t))}function pa(t){return!!(t[D]&9216||t[vt]?.dirty)}function As(t){pa(t)?jn(t):t[D]&64&&(ag()?(t[D]|=1024,jn(t)):t[rt].changeDetectionScheduler?.notify())}function jn(t){t[rt].changeDetectionScheduler?.notify();let e=$n(t);for(;e!==null&&!(e[D]&8192||(e[D]|=8192,!ha(e)));)e=$n(e)}function dg(t,e){if((t[D]&256)===256)throw new w(911,!1);t[kn]===null&&(t[kn]=[]),t[kn].push(e)}function $n(t){let e=t[ee];return qe(e)?e[ee]:e}var F={lFrame:Vl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fg(){return F.lFrame.elementDepthCount}function hg(){F.lFrame.elementDepthCount++}function pg(){F.lFrame.elementDepthCount--}function Pl(){return F.bindingsEnabled}function gg(){return F.skipHydrationRootTNode!==null}function mg(t){return F.skipHydrationRootTNode===t}function vg(){F.skipHydrationRootTNode=null}function ne(){return F.lFrame.lView}function on(){return F.lFrame.tView}function Ge(){let t=Fl();for(;t!==null&&t.type===64;)t=t.parent;return t}function Fl(){return F.lFrame.currentTNode}function yg(){let t=F.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qn(t,e){let n=F.lFrame;n.currentTNode=t,n.isParent=e}function Ll(){return F.lFrame.isParent}function wg(){F.lFrame.isParent=!1}function Dg(){return F.lFrame.bindingIndex}function bg(t){return F.lFrame.bindingIndex=t}function Cg(){return F.lFrame.bindingIndex++}function Eg(t){let e=F.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ig(){return F.lFrame.inI18n}function _g(t,e){let n=F.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rs(e)}function Sg(){return F.lFrame.currentDirectiveIndex}function Rs(t){F.lFrame.currentDirectiveIndex=t}function jl(t){F.lFrame.currentQueryIndex=t}function Tg(t){let e=t[O];return e.type===2?e.declTNode:e.type===1?t[xe]:null}function $l(t,e,n){if(n&S.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&S.Host);)if(o=Tg(i),o===null||(i=i[Yn],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=F.lFrame=Ul();return r.currentTNode=e,r.lView=t,!0}function ga(t){let e=Ul(),n=t[O];F.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ul(){let t=F.lFrame,e=t===null?null:t.child;return e===null?Vl(t):e}function Vl(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Bl(){let t=F.lFrame;return F.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Hl=Bl;function ma(){let t=Bl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function va(){return F.lFrame.selectedIndex}function wt(t){F.lFrame.selectedIndex=t}function xg(){let t=F.lFrame;return Ol(t.tView,t.selectedIndex)}function Mg(){return F.lFrame.currentNamespace}var zl=!0;function ya(){return zl}function wa(t){zl=t}function Ag(){return Uo(Ge(),ne())}function Uo(t,e){return new Vo(Pe(t,e))}var Vo=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Ag;let t=e;return t})();function Da(t,e){t.forEach(n=>Array.isArray(n)?Da(n,e):e(n))}function ql(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Co(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gl(t){return(t.flags&128)===128}var Ns;function Wl(t){Ns=t}function Rg(){if(Ns!==void 0)return Ns;if(typeof document<"u")return document;throw new w(210,!1)}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ho(t){return Wu(t,Zl)||Wu(t,Ql)}function Yl(t){return Ho(t)!==null}function Wu(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ng(t){let e=t&&(t[Zl]||t[Ql]);return e||null}function Yu(t){return t&&(t.hasOwnProperty(Zu)||t.hasOwnProperty(Og))?t[Zu]:null}var Zl=U({\u0275prov:U}),Zu=U({\u0275inj:U}),Ql=U({ngInjectableDef:U}),Og=U({ngInjectorDef:U}),k=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},ba=new k("",{providedIn:"root",factory:()=>kg}),kg="ng",Ca=new k(""),sn=new k("",{providedIn:"platform",factory:()=>"unknown"});var Ea=new k("",{providedIn:"root",factory:()=>Rg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Pg=U({__forward_ref__:U});function Kl(t){return t.__forward_ref__=Kl,t.toString=function(){return se(this())},t}function he(t){return Jl(t)?t():t}function Jl(t){return typeof t=="function"&&t.hasOwnProperty(Pg)&&t.__forward_ref__===Kl}function Xl(t){return t&&!!t.\u0275providers}function Os(t){return typeof t=="string"?t:t==null?"":String(t)}function Fg(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Os(t)}function Lg(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new w(-200,t)}function Ia(t,e){throw new w(-201,!1)}var ks;function jg(){return ks}function fe(t){let e=ks;return ks=t,e}function ed(t,e,n){let r=Ho(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&S.Optional)return null;if(e!==void 0)return e;Ia(t,"Injector")}var $g={},Un=$g,Ps="__NG_DI_FLAG__",Eo="ngTempTokenPath",Ug="ngTokenPath",Vg=/\n/gm,Bg="\u0275",Qu="__source",Pn;function Xe(t){let e=Pn;return Pn=t,e}function Hg(t,e=S.Default){if(Pn===void 0)throw new w(-203,!1);return Pn===null?ed(t,void 0,e):Pn.get(t,e&S.Optional?null:void 0,e)}function P(t,e=S.Default){return(jg()||Hg)(he(t),e)}function v(t,e=S.Default){return P(t,zo(e))}function zo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fs(t){let e=[];for(let n=0;n<t.length;n++){let r=he(t[n]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let o,i=S.Default;for(let s=0;s<r.length;s++){let a=r[s],c=zg(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(P(o,i))}else e.push(P(r))}return e}function td(t,e){return t[Ps]=e,t.prototype[Ps]=e,t}function zg(t){return t[Ps]}function qg(t,e,n,r){let o=t[Eo];throw e[Qu]&&o.unshift(e[Qu]),t.message=Gg(`
`+t.message,o,n,r),t[Ug]=o,t[Eo]=null,t}function Gg(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Bg?t.slice(2):t;let o=se(e);if(Array.isArray(e))o=e.map(se).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):se(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(Vg,`
  `)}`}var Wg="h",Yg="b";var Zg=()=>null;function _a(t,e,n=!1){return Zg(t,e,n)}var lo="__parameters__";function Qg(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function nd(t,e,n){return Wn(()=>{let r=Qg(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(lo)?c[lo]:Object.defineProperty(c,lo,{value:[]})[lo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Sa=td(nd("Optional"),8);var rd=td(nd("SkipSelf"),4);function tn(t,e){let n=t.hasOwnProperty(vo);return n?t[vo]:null}var nn=new k(""),od=new k("",-1),id=new k(""),Io=class{get(e,n=Un){if(n===Un){let r=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw r.name="NullInjectorError",r}return n}};function qo(t){return{\u0275providers:t}}function Kg(...t){return{\u0275providers:sd(!0,t),\u0275fromNgModule:!0}}function sd(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Da(e,s=>{let a=s;Ls(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&ad(o,i),n}function ad(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Ta(o,i=>{e(i,r)})}}function Ls(t,e,n,r){if(t=he(t),!t)return!1;let o=null,i=Yu(t),s=!i&&mt(t);if(!i&&!s){let c=t.ngModule;if(i=Yu(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ls(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Da(i.imports,l=>{Ls(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&ad(u,e)}if(!a){let u=tn(o)||(()=>new o);e({provide:o,useFactory:u,deps:Re},o),e({provide:id,useValue:o,multi:!0},o),e({provide:nn,useValue:()=>P(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;Ta(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function Ta(t,e){for(let n of t)Xl(n)&&(n=n.\u0275providers),Array.isArray(n)?Ta(n,e):e(n)}var Jg=U({provide:String,useValue:U});function cd(t){return t!==null&&typeof t=="object"&&Jg in t}function Xg(t){return!!(t&&t.useExisting)}function em(t){return!!(t&&t.useFactory)}function js(t){return typeof t=="function"}var Go=new k(""),fo={},tm={},ws;function xa(){return ws===void 0&&(ws=new Io),ws}var ge=class{},Vn=class extends ge{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Us(e,s=>this.processProvider(s)),this.records.set(od,Zt(void 0,this)),o.has("environment")&&this.records.set(ge,Zt(void 0,this));let i=this.records.get(Go);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(id,Re,S.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=j(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Xe(this),r=fe(void 0),o;try{return e()}finally{Xe(n),fe(r)}}get(e,n=Un,r=S.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Uu))return e[Uu](this);r=zo(r);let o,i=Xe(this),s=fe(void 0);try{if(!(r&S.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=am(e)&&Ho(e);u&&this.injectableDefInScope(u)?c=Zt($s(e),fo):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&S.Self?xa():this.parent;return n=r&S.Optional&&n===Un?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Eo]=a[Eo]||[]).unshift(se(e)),i)throw a;return qg(a,e,"R3InjectorError",this.source)}else throw a}finally{fe(s),Xe(i)}}resolveInjectorInitializers(){let e=j(null),n=Xe(this),r=fe(void 0),o;try{let i=this.get(nn,Re,S.Self);for(let s of i)s()}finally{Xe(n),fe(r),j(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(se(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){e=he(e);let n=js(e)?e:he(e&&e.provide),r=rm(e);if(!js(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Zt(void 0,fo,!0),o.factory=()=>Fs(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=j(null);try{return n.value===fo&&(n.value=tm,n.value=n.factory()),typeof n.value=="object"&&n.value&&sm(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{j(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=he(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $s(t){let e=Ho(t),n=e!==null?e.factory:tn(t);if(n!==null)return n;if(t instanceof k)throw new w(204,!1);if(t instanceof Function)return nm(t);throw new w(204,!1)}function nm(t){if(t.length>0)throw new w(204,!1);let n=Ng(t);return n!==null?()=>n.factory(t):()=>new t}function rm(t){if(cd(t))return Zt(void 0,t.useValue);{let e=om(t);return Zt(e,fo)}}function om(t,e,n){let r;if(js(t)){let o=he(t);return tn(o)||$s(o)}else if(cd(t))r=()=>he(t.useValue);else if(em(t))r=()=>t.useFactory(...Fs(t.deps||[]));else if(Xg(t))r=()=>P(he(t.useExisting));else{let o=he(t&&(t.useClass||t.provide));if(im(t))r=()=>new o(...Fs(t.deps));else return tn(o)||$s(o)}return r}function Zt(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function im(t){return!!t.deps}function sm(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function am(t){return typeof t=="function"||typeof t=="object"&&t instanceof k}function Us(t,e){for(let n of t)Array.isArray(n)?Us(n,e):n&&Xl(n)?Us(n.\u0275providers,e):e(n)}function Ct(t,e){t instanceof Vn&&t.assertNotDestroyed();let n,r=Xe(t),o=fe(void 0);try{return e()}finally{Xe(r),fe(o)}}function cm(t){return typeof t=="function"}var Vs=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ud(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Wo(){return ld}function ld(t){return t.type.prototype.ngOnChanges&&(t.setInput=lm),um}Wo.ngInherit=!0;function um(){let t=fd(this),e=t?.current;if(e){let n=t.previous;if(n===Fn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function lm(t,e,n,r,o){let i=this.declaredInputs[r],s=fd(t)||dm(t,{previous:Fn,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Vs(u&&u.currentValue,n,c===Fn),ud(t,e,o,n)}var dd="__ngSimpleChanges__";function fd(t){return t[dd]||null}function dm(t,e){return t[dd]=e}var Ku=null;var et=function(t,e,n){Ku?.(t,e,n)};function fm(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=ld(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function Ma(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function ho(t,e,n){hd(t,e,3,n)}function po(t,e,n,r){(t[D]&3)===n&&hd(t,e,n,r)}function Ds(t,e){let n=t[D];(n&3)===e&&(n&=16383,n+=1,t[D]=n)}function hd(t,e,n,r){let o=r!==void 0?t[Yt]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Yt]+=65536),(a<i||i==-1)&&(hm(t,n,e,c),t[Yt]=(t[Yt]&4294901760)+c+2),c++}function Ju(t,e){et(4,t,e);let n=j(null);try{e.call(t)}finally{j(n),et(5,t,e)}}function hm(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[D]>>14<t[Yt]>>16&&(t[D]&3)===e&&(t[D]+=16384,Ju(a,i)):Ju(a,i)}var Jt=-1,Bn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function pm(t){return t instanceof Bn}function gm(t){return(t.flags&8)!==0}function mm(t){return(t.flags&16)!==0}function pd(t){return t!==Jt}function _o(t){return t&32767}function vm(t){return t>>16}function So(t,e){let n=vm(t),r=e;for(;n>0;)r=r[Yn],n--;return r}var Bs=!0;function Xu(t){let e=Bs;return Bs=t,e}var ym=256,gd=ym-1,md=5,wm=0,Ne={};function Dm(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(On)&&(r=n[On]),r==null&&(r=n[On]=wm++);let o=r&gd,i=1<<o;e.data[t+(o>>md)]|=i}function vd(t,e){let n=yd(t,e);if(n!==-1)return n;let r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,bs(r.data,t),bs(e,null),bs(r.blueprint,null));let o=Aa(t,e),i=t.injectorIndex;if(pd(o)){let s=_o(o),a=So(o,e),c=a[O].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function bs(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yd(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Aa(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=Ed(o),r===null)return Jt;if(n++,o=o[Yn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Jt}function bm(t,e,n){Dm(t,e,n)}function wd(t,e,n){if(n&S.Optional||t!==void 0)return t;Ia(e,"NodeInjector")}function Dd(t,e,n,r){if(n&S.Optional&&r===void 0&&(r=null),!(n&(S.Self|S.Host))){let o=t[Xt],i=fe(void 0);try{return o?o.get(e,r,n&S.Optional):ed(e,r,n&S.Optional)}finally{fe(i)}}return wd(r,e,n)}function bd(t,e,n,r=S.Default,o){if(t!==null){if(e[D]&2048&&!(r&S.Self)){let s=Sm(t,e,n,r,Ne);if(s!==Ne)return s}let i=Cd(t,e,n,r,Ne);if(i!==Ne)return i}return Dd(e,n,r,o)}function Cd(t,e,n,r,o){let i=Im(n);if(typeof i=="function"){if(!$l(e,t,r))return r&S.Host?wd(o,n,r):Dd(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&S.Optional))Ia(n);else return s}finally{Hl()}}else if(typeof i=="number"){let s=null,a=yd(t,e),c=Jt,u=r&S.Host?e[ke][xe]:null;for((a===-1||r&S.SkipSelf)&&(c=a===-1?Aa(t,e):e[a+8],c===Jt||!tl(r,!1)?a=-1:(s=e[O],a=_o(c),e=So(c,e)));a!==-1;){let l=e[O];if(el(i,a,l.data)){let d=Cm(a,e,n,s,r,u);if(d!==Ne)return d}c=e[a+8],c!==Jt&&tl(r,e[O].data[a+8]===u)&&el(i,a,e)?(s=l,a=_o(c),e=So(c,e)):a=-1}}return o}function Cm(t,e,n,r,o,i){let s=e[O],a=s.data[t+8],c=r==null?$o(a)&&Bs:r!=s&&(a.type&3)!==0,u=o&S.Host&&i===a,l=Em(a,s,n,c,u);return l!==null?Hn(e,s,l,a):Ne}function Em(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,f=o?a+l:u;for(let h=d;h<f;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(o){let h=s[c];if(h&&Zn(h)&&h.type===n)return c}return null}function Hn(t,e,n,r){let o=t[n],i=e.data;if(pm(o)){let s=o;s.resolving&&Lg(Fg(i[n]));let a=Xu(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?fe(s.injectImpl):null,l=$l(t,r,S.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&fm(n,i[n],e)}finally{u!==null&&fe(u),Xu(a),s.resolving=!1,Hl()}}return o}function Im(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(On)?t[On]:void 0;return typeof e=="number"?e>=0?e&gd:_m:e}function el(t,e,n){let r=1<<t;return!!(n[e+(t>>md)]&r)}function tl(t,e){return!(t&S.Self)&&!(t&S.Host&&e)}var gt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bd(this._tNode,this._lView,e,zo(r),n)}};function _m(){return new gt(Ge(),ne())}function Ra(t){return Wn(()=>{let e=t.prototype.constructor,n=e[vo]||Hs(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[vo]||Hs(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Hs(t){return Jl(t)?()=>{let e=Hs(he(t));return e&&e()}:tn(t)}function Sm(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[D]&2048&&!(s[D]&512);){let a=Cd(i,s,n,r|S.Self,Ne);if(a!==Ne)return a;let c=i.parent;if(!c){let u=s[Ml];if(u){let l=u.get(n,Ne,r);if(l!==Ne)return l}c=Ed(s),s=s[Yn]}i=c}return o}function Ed(t){let e=t[O],n=e.type;return n===2?e.declTNode:n===1?t[xe]:null}function nl(t,e=null,n=null,r){let o=Id(t,e,n,r);return o.resolveInjectorInitializers(),o}function Id(t,e=null,n=null,r,o=new Set){let i=[n||Re,Kg(t)];return r=r||(typeof t=="object"?void 0:se(t)),new Vn(i,e||xa(),r||null,o)}var Kn=(()=>{let e=class e{static create(r,o){if(Array.isArray(r))return nl({name:""},o,r,"");{let i=r.name??"";return nl({name:i},r.parent,r.providers,i)}}};e.THROW_IF_NOT_FOUND=Un,e.NULL=new Io,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>P(od)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),Tm="ngOriginalError";function Cs(t){return t[Tm]}var He=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Cs(e);for(;n&&Cs(n);)n=Cs(n);return n||null}},_d=new k("",{providedIn:"root",factory:()=>v(He).handleError.bind(void 0)});var Sd=!1,xm=new k("",{providedIn:"root",factory:()=>Sd});var Td=new Map,Mm=0;function Am(){return Mm++}function Rm(t){Td.set(t[jo],t)}function Nm(t){Td.delete(t[jo])}var rl="__ngContext__";function Dt(t,e){Kt(e)?(t[rl]=e[jo],Rm(e)):t[rl]=e}function xd(t){return t instanceof Function?t():t}var Et=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Et||{}),Om;function Na(t,e){return Om(t,e)}function Qt(t,e,n,r,o){if(r!=null){let i,s=!1;qe(r)?i=r:Kt(r)&&(s=!0,r=r[ze]);let a=Be(r);t===0&&n!==null?o==null?Od(e,n,a):To(e,n,a,o||null,!0):t===1&&n!==null?To(e,n,a,o||null,!0):t===2?Qm(e,a,s):t===3&&e.destroyNode(a),i!=null&&Jm(e,t,i,n,o)}}function km(t,e){return t.createText(e)}function Pm(t,e,n){t.setValue(e,n)}function Md(t,e,n){return t.createElement(e,n)}function Fm(t,e){Ad(t,e),e[ze]=null,e[xe]=null}function Lm(t,e,n,r,o,i){r[ze]=o,r[xe]=e,Yo(t,r,n,1,o,i)}function Ad(t,e){Yo(t,e,e[ae],2,null,null)}function jm(t){let e=t[Ln];if(!e)return Es(t[O],t);for(;e;){let n=null;if(Kt(e))n=e[Ln];else{let r=e[pe];r&&(n=r)}if(!n){for(;e&&!e[Te]&&e!==t;)Kt(e)&&Es(e[O],e),e=e[ee];e===null&&(e=t),Kt(e)&&Es(e[O],e),n=e&&e[Te]}e=n}}function $m(t,e,n,r){let o=pe+r,i=n.length;r>0&&(n[o-1][Te]=e),r<i-pe?(e[Te]=n[o],ql(n,pe+r,e)):(n.push(e),e[Te]=null),e[ee]=n;let s=e[Lo];s!==null&&n!==s&&Um(s,e);let a=e[en];a!==null&&a.insertView(t),As(e),e[D]|=128}function Um(t,e){let n=t[Do],o=e[ee][ee][ke];e[ke]!==o&&(t[D]|=fa.HasTransplantedViews),n===null?t[Do]=[e]:n.push(e)}function Rd(t,e){let n=t[Do],r=n.indexOf(e);n.splice(r,1)}function zs(t,e){if(t.length<=pe)return;let n=pe+e,r=t[n];if(r){let o=r[Lo];o!==null&&o!==t&&Rd(o,r),e>0&&(t[n-1][Te]=r[Te]);let i=Co(t,pe+e);Fm(r[O],r);let s=i[en];s!==null&&s.detachView(i[O]),r[ee]=null,r[Te]=null,r[D]&=-129}return r}function Nd(t,e){if(!(e[D]&256)){let n=e[ae];n.destroyNode&&Yo(t,e,n,3,null,null),jm(e)}}function Es(t,e){if(e[D]&256)return;let n=j(null);try{e[D]&=-129,e[D]|=256,e[vt]&&uu(e[vt]),Bm(t,e),Vm(t,e),e[O].type===1&&e[ae].destroy();let r=e[Lo];if(r!==null&&qe(e[ee])){r!==e[ee]&&Rd(r,e);let o=e[en];o!==null&&o.detachView(t)}Nm(e)}finally{j(n)}}function Vm(t,e){let n=t.cleanup,r=e[qu];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(e[qu]=null);let o=e[kn];if(o!==null){e[kn]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function Bm(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof Bn)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];et(4,a,c);try{c.call(a)}finally{et(5,a,c)}}else{et(4,o,i);try{i.call(o)}finally{et(5,o,i)}}}}}function Hm(t,e,n){return zm(t,e.parent,n)}function zm(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ze];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=t.data[r.directiveStart+o];if(i===Oe.None||i===Oe.Emulated)return null}return Pe(r,n)}}function To(t,e,n,r,o){t.insertBefore(e,n,r,o)}function Od(t,e,n){t.appendChild(e,n)}function ol(t,e,n,r,o){r!==null?To(t,e,n,r,o):Od(t,e,n)}function qm(t,e,n,r){t.removeChild(e,n,r)}function Oa(t,e){return t.parentNode(e)}function Gm(t,e){return t.nextSibling(e)}function Wm(t,e,n){return Zm(t,e,n)}function Ym(t,e,n){return t.type&40?Pe(t,n):null}var Zm=Ym,il;function ka(t,e,n,r){let o=Hm(t,r,e),i=e[ae],s=r.parent||e[xe],a=Wm(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ol(i,o,n[c],a,!1);else ol(i,o,n,a,!1);il!==void 0&&il(i,r,e,n,o)}function go(t,e){if(e!==null){let n=e.type;if(n&3)return Pe(e,t);if(n&4)return qs(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return go(t,r);{let o=t[e.index];return qe(o)?qs(-1,o):Be(o)}}else{if(n&32)return Na(e,t)()||Be(t[e.index]);{let r=kd(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=$n(t[ke]);return go(o,r)}else return go(t,e.next)}}}return null}function kd(t,e){if(e!==null){let r=t[ke][xe],o=e.projection;return r.projection[o]}return null}function qs(t,e){let n=pe+t+1;if(n<e.length){let r=e[n],o=r[O].firstChild;if(o!==null)return go(r,o)}return e[yt]}function Qm(t,e,n){let r=Oa(t,e);r&&qm(t,r,e,n)}function Pa(t,e,n,r,o,i,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Dt(Be(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Pa(t,e,n.child,r,o,i,!1),Qt(e,t,o,a,i);else if(c&32){let u=Na(n,r),l;for(;l=u();)Qt(e,t,o,l,i);Qt(e,t,o,a,i)}else c&16?Km(t,e,r,n,o,i):Qt(e,t,o,a,i);n=s?n.projectionNext:n.next}}function Yo(t,e,n,r,o,i){Pa(n,r,t.firstChild,e,o,i,!1)}function Km(t,e,n,r,o,i){let s=n[ke],c=s[xe].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Qt(e,t,o,l,i)}else{let u=c,l=s[ee];Gl(r)&&(u.flags|=128),Pa(t,e,u,l,o,i,!0)}}function Jm(t,e,n,r,o){let i=n[yt],s=Be(n);i!==s&&Qt(e,t,r,i,o);for(let a=pe;a<n.length;a++){let c=n[a];Yo(c[O],c,t,e,r,i)}}function Xm(t,e,n){t.setAttribute(e,"style",n)}function Pd(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Fd(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&Ms(t,e,r),o!==null&&Pd(t,e,o),i!==null&&Xm(t,e,i)}var Zo={};function Ld(t=1){jd(on(),ne(),va()+t,!1)}function jd(t,e,n,r){if(!r)if((e[D]&3)===3){let i=t.preOrderCheckHooks;i!==null&&ho(e,i,n)}else{let i=t.preOrderHooks;i!==null&&po(e,i,0,n)}wt(n)}function an(t,e=S.Default){let n=ne();if(n===null)return P(t,e);let r=Ge();return bd(r,n,he(t),e)}function $d(t,e,n,r,o,i){let s=j(null);try{let a=null;o&tt.SignalBased&&(a=e[r][iu]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&tt.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(e,i)),t.setInput!==null?t.setInput(e,a,i,n,r):ud(e,a,r,i)}finally{j(s)}}function ev(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)wt(~o);else{let i=o,s=n[++r],a=n[++r];_g(s,i);let c=e[i];a(2,c)}}}finally{wt(-1)}}function Qo(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[ze]=o,d[D]=r|4|128|8|64,(u!==null||t&&t[D]&2048)&&(d[D]|=2048),kl(d),d[ee]=d[Yn]=t,d[nt]=n,d[rt]=s||t&&t[rt],d[ae]=a||t&&t[ae],d[Xt]=c||t&&t[Xt]||null,d[xe]=i,d[jo]=Am(),d[yo]=l,d[Ml]=u,d[ke]=e.type==2?t[ke]:d,d}function Ko(t,e,n,r,o){let i=t.data[e];if(i===null)i=tv(t,e,n,r,o),Ig()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=yg();i.injectorIndex=s===null?-1:s.injectorIndex}return Qn(i,!0),i}function tv(t,e,n,r,o){let i=Fl(),s=Ll(),a=s?i:i&&i.parent,c=t.data[e]=sv(t,a,n,e,r,o);return t.firstChild===null&&(t.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function Ud(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Vd(t,e,n,r,o){let i=va(),s=r&2;try{wt(-1),s&&e.length>ot&&jd(t,e,ot,!1),et(s?2:0,o),n(r,o)}finally{wt(i),et(s?3:1,o)}}function Bd(t,e,n){if(Rl(e)){let r=j(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{j(r)}}}function Hd(t,e,n){Pl()&&(hv(t,e,n,Pe(n,e)),(n.flags&64)===64&&Yd(t,e,n))}function zd(t,e,n=Pe){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function qd(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fa(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Fa(t,e,n,r,o,i,s,a,c,u,l){let d=ot+r,f=d+o,h=nv(d,f),g=typeof u=="function"?u():u;return h[O]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function nv(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Zo);return n}function rv(t,e,n,r){let i=r.get(xm,Sd)||n===Oe.ShadowDom,s=t.selectRootElement(e,i);return ov(s),s}function ov(t){iv(t)}var iv=()=>null;function sv(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return gg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sl(t,e,n,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let a,c=tt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=i;if(o!==null){if(!o.hasOwnProperty(i))continue;u=o[i]}t===0?al(r,n,u,a,c):al(r,n,u,a)}return r}function al(t,e,n,r,o){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,r):i=t[n]=[e,r],o!==void 0&&i.push(o)}function av(t,e,n){let r=e.directiveStart,o=e.directiveEnd,i=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<o;l++){let d=i[l],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;c=sl(0,d.inputs,l,c,h),u=sl(1,d.outputs,l,u,g);let m=c!==null&&s!==null&&!Cl(e)?Cv(c,l,s):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function cv(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uv(t,e,n,r,o,i,s,a){let c=Pe(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(La(t,n,l,r,o),$o(e)&&lv(n,e.index)):e.type&3?(r=cv(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(c,r,o)):e.type&12}function lv(t,e){let n=rn(e,t);n[D]&16||(n[D]|=64)}function Gd(t,e,n,r){if(Pl()){let o=r===null?null:{"":-1},i=gv(t,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&Wd(t,e,n,s,o,a),o&&mv(n,r,o)}n.mergedAttrs=da(n.mergedAttrs,n.attrs)}function Wd(t,e,n,r,o,i){for(let u=0;u<r.length;u++)bm(vd(n,e),t,r[u].type);yv(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Ud(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=da(n.mergedAttrs,l.hostAttrs),wv(t,n,e,c,l),vv(c,l,o),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}av(t,n,i)}function dv(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;fv(s)!=a&&s.push(a),s.push(n,r,i)}}function fv(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hv(t,e,n,r){let o=n.directiveStart,i=n.directiveEnd;$o(n)&&Dv(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||vd(n,e),Dt(r,e);let s=n.initialInputs;for(let a=o;a<i;a++){let c=t.data[a],u=Hn(e,t,a,n);if(Dt(u,e),s!==null&&bv(e,a-o,u,c,n,s),Zn(c)){let l=rn(n.index,e);l[nt]=Hn(e,t,a,n)}}}function Yd(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Sg();try{wt(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];Rs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&pv(c,u)}}finally{wt(-1),Rs(s)}}function pv(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gv(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(Yp(e,s.selectors,!1))if(r||(r=[]),Zn(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;Gs(t,e,c)}else r.unshift(s),Gs(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function Gs(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mv(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new w(-301,!1);r.push(e[o],i)}}}function vv(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zn(e)&&(n[""]=t)}}function yv(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wv(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=tn(o.type,!0)),s=new Bn(i,Zn(o),an);t.blueprint[r]=s,n[r]=s,dv(t,e,r,Ud(t,n,o.hostVars,Zo),o)}function Dv(t,e,n){let r=Pe(e,t),o=qd(n),i=t[rt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Jo(t,Qo(t,o,null,s,r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=a}function bv(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];$d(r,n,c,u,l,d)}}function Cv(t,e,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let s=t[i];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}return r}function Zd(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Qd(t,e){let n=t.contentQueries;if(n!==null){let r=j(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];jl(i),a.contentQueries(2,e[s],s)}}}finally{j(r)}}}function Jo(t,e){return t[Ln]?t[Gu][Te]=e:t[Ln]=e,t[Gu]=e,e}function Ws(t,e,n){jl(0);let r=j(null);try{e(t,n)}finally{j(r)}}function Ev(t,e){let n=t[Xt],r=n?n.get(He,null):null;r&&r.handleError(e)}function La(t,e,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=n[i++],u=e[s],l=t.data[s];$d(l,u,r,a,c,o)}}function Iv(t,e,n){let r=cg(e,t);Pm(t[ae],r,n)}function _v(t,e){let n=rn(e,t),r=n[O];Sv(r,n);let o=n[ze];o!==null&&n[yo]===null&&(n[yo]=_a(o,n[Xt])),ja(r,n,n[nt])}function Sv(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ja(t,e,n){ga(e);try{let r=t.viewQuery;r!==null&&Ws(1,r,n);let o=t.template;o!==null&&Vd(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[en]?.finishViewCreation(t),t.staticContentQueries&&Qd(t,e),t.staticViewQueries&&Ws(2,t.viewQuery,n);let i=t.components;i!==null&&Tv(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[D]&=-5,ma()}}function Tv(t,e){for(let n=0;n<e.length;n++)_v(t,e[n])}function xv(t,e,n,r){let o=j(null);try{let i=e.tView,a=t[D]&4096?4096:16,c=Qo(t,i,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];c[Lo]=u;let l=t[en];return l!==null&&(c[en]=l.createEmbeddedView(i)),ja(i,c,n),c}finally{j(o)}}function cl(t,e){return!e||e.firstChild===null||Gl(t)}function Mv(t,e,n,r=!0){let o=e[O];if($m(o,e,t,n),r){let s=qs(n,t),a=e[ae],c=Oa(a,t[yt]);c!==null&&Lm(o,t[xe],a,e,c,s)}let i=e[yo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function xo(t,e,n,r,o=!1){for(;n!==null;){let i=e[n.index];i!==null&&r.push(Be(i)),qe(i)&&Av(i,r);let s=n.type;if(s&8)xo(t,e,n.child,r);else if(s&32){let a=Na(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=kd(e,n);if(Array.isArray(a))r.push(...a);else{let c=$n(e[ke]);xo(c[O],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Av(t,e){for(let n=pe;n<t.length;n++){let r=t[n],o=r[O].firstChild;o!==null&&xo(r[O],r,o,e)}t[yt]!==t[ze]&&e.push(t[yt])}var Kd=[];function Rv(t){return t[vt]??Nv(t)}function Nv(t){let e=Kd.pop()??Object.create(kv);return e.lView=t,e}function Ov(t){t.lView[vt]!==t&&(t.lView=null,Kd.push(t))}var kv=B(y({},su),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jn(t.lView)},consumerOnSignalRead(){this.lView[vt]=this}});function Jd(t){return ef(t[Ln])}function Xd(t){return ef(t[Te])}function ef(t){for(;t!==null&&!qe(t);)t=t[Te];return t}var tf=100;function nf(t,e=!0,n=0){let r=t[rt],o=r.rendererFactory,i=!1;i||o.begin?.();try{Pv(t,n)}catch(s){throw e&&Ev(t,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function Pv(t,e){Ys(t,e);let n=0;for(;pa(t);){if(n===tf)throw new w(103,!1);n++,Ys(t,1)}}function Fv(t,e,n,r){let o=e[D];if((o&256)===256)return;let i=!1;!i&&e[rt].inlineEffectRunner?.flush(),ga(e);let s=null,a=null;!i&&Lv(t)&&(a=Rv(e),s=au(a));try{kl(e),bg(t.bindingStartIndex),n!==null&&Vd(t,e,n,2,r);let c=(o&3)===3;if(!i)if(c){let d=t.preOrderCheckHooks;d!==null&&ho(e,d,null)}else{let d=t.preOrderHooks;d!==null&&po(e,d,0,null),Ds(e,0)}if(jv(e),rf(e,0),t.contentQueries!==null&&Qd(t,e),!i)if(c){let d=t.contentCheckHooks;d!==null&&ho(e,d)}else{let d=t.contentHooks;d!==null&&po(e,d,1),Ds(e,1)}ev(t,e);let u=t.components;u!==null&&sf(e,u,0);let l=t.viewQuery;if(l!==null&&Ws(2,l,r),!i)if(c){let d=t.viewCheckHooks;d!==null&&ho(e,d)}else{let d=t.viewHooks;d!==null&&po(e,d,2),Ds(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ys]){for(let d of e[ys])d();e[ys]=null}i||(e[D]&=-73)}catch(c){throw jn(e),c}finally{a!==null&&(cu(a,s),Ov(a)),ma()}}function Lv(t){return t.type!==2}function rf(t,e){for(let n=Jd(t);n!==null;n=Xd(n))for(let r=pe;r<n.length;r++){let o=n[r];of(o,e)}}function jv(t){for(let e=Jd(t);e!==null;e=Xd(e)){if(!(e[D]&fa.HasTransplantedViews))continue;let n=e[Do];for(let r=0;r<n.length;r++){let o=n[r],i=o[ee];lg(o)}}}function $v(t,e,n){let r=rn(e,t);of(r,n)}function of(t,e){ha(t)&&Ys(t,e)}function Ys(t,e){let r=t[O],o=t[D],i=t[vt],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Ji(i)),i&&(i.dirty=!1),t[D]&=-9217,s)Fv(r,t,r.template,t[nt]);else if(o&8192){rf(t,1);let a=r.components;a!==null&&sf(t,a,1)}}function sf(t,e,n){for(let r=0;r<e.length;r++)$v(t,e[r],n)}function af(t){for(t[rt].changeDetectionScheduler?.notify();t;){t[D]|=64;let e=$n(t);if(rg(t)&&!e)return t;t=e}return null}var bt=class{get rootNodes(){let e=this._lView,n=e[O];return xo(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return(this._lView[D]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ee];if(qe(e)){let n=e[wo],r=n?n.indexOf(this):-1;r>-1&&(zs(e,r),Co(n,r))}this._attachedToViewContainer=!1}Nd(this._lView[O],this._lView)}onDestroy(e){dg(this._lView,e)}markForCheck(){af(this._cdRefInjectingView||this._lView)}detach(){this._lView[D]&=-129}reattach(){As(this._lView),this._lView[D]|=128}detectChanges(){this._lView[D]|=1024,nf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ad(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e,As(this._lView)}},$a=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Bv;let t=e;return t})(),Uv=$a,Vv=class extends Uv{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=xv(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new bt(o)}};function Bv(){return Hv(Ge(),ne())}function Hv(t,e){return t.type&4?new Vv(e,t,Uo(t,e)):null}var RS=new RegExp(`^(\\d+)*(${Yg}|${Wg})*(.*)`);var zv=()=>null;function ul(t,e){return zv(t,e)}var Zs=class{},Qs=class{},Mo=class{};function qv(t){let e=Error(`No component factory found for ${se(t)}.`);return e[Gv]=t,e}var Gv="ngComponent";var Ks=class{resolveComponentFactory(e){throw qv(e)}},Xo=(()=>{let e=class e{};e.NULL=new Ks;let t=e;return t})(),zn=class{};var Wv=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Is={};var ll=new Set;function cf(t){ll.has(t)||(ll.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function dl(...t){}function Yv(){let t=typeof Nn.requestAnimationFrame=="function",e=Nn[t?"requestAnimationFrame":"setTimeout"],n=Nn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var H=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=Yv().nativeRequestAnimationFrame,Kv(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new w(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,Zv,dl,dl);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Zv={};function Ua(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qv(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Js(t),t.isCheckStableRunning=!0,Ua(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Js(t))}function Kv(t){let e=()=>{Qv(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(Jv(a))return n.invokeTask(o,i,s,a);try{return fl(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),hl(t)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return fl(t),n.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),hl(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,Js(t),Ua(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function Js(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hl(t){t._nesting--,Ua(t)}function Jv(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var uf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Xs(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=$u(o,a);else if(i==2){let c=a,u=e[++s];r=$u(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var Ao=class extends Xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mt(e);return new qn(n,this.ngModule)}};function pl(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Xv(t){let e=t.toLowerCase();return e==="svg"?og:e==="math"?ig:null}var ea=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zo(r);let o=this.injector.get(e,Is,r);return o!==Is||n===Is?o:this.parentInjector.get(e,n,r)}},qn=class extends Mo{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=pl(e.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return pl(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Jp(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let i=j(null);try{o=o||this.ngModule;let s=o instanceof ge?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ea(e,s):e,c=a.get(zn,null);if(c===null)throw new w(407,!1);let u=a.get(Wv,null),l=a.get(uf,null),d=a.get(Zs,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?rv(h,r,this.componentDef.encapsulation,a):Md(h,g,Xv(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let M=null;m!==null&&(M=_a(m,a,!0));let te=Fa(0,null,null,1,0,null,null,null,null,null,null),K=Qo(null,te,null,b,null,null,f,h,a,null,M);ga(K);let z,le;try{let Ze=this.componentDef,Ft,Qi=null;Ze.findHostDirectiveDefs?(Ft=[],Qi=new Map,Ze.findHostDirectiveDefs(Ze,Ft,Qi),Ft.push(Ze)):Ft=[Ze];let dp=ey(K,m),fp=ty(dp,m,Ze,Ft,K,f,h);le=Ol(te,ot),m&&oy(h,Ze,m,r),n!==void 0&&iy(le,this.ngContentSelectors,n),z=ry(fp,Ze,Ft,Qi,K,[sy]),ja(te,K,null)}finally{ma()}return new ta(this.componentType,z,Uo(le,K),K,le)}finally{j(i)}}},ta=class extends Qs{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bt(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;La(i[O],i,o,e,n),this.previousInputValues.set(e,n);let s=rn(this._tNode.index,i);af(s)}}get injector(){return new gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ey(t,e){let n=t[O],r=ot;return t[r]=e,Ko(n,r,2,"#host",null)}function ty(t,e,n,r,o,i,s){let a=o[O];ny(r,t,e,s);let c=null;e!==null&&(c=_a(e,o[Xt]));let u=i.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Qo(o,qd(n),null,l,o[t.index],t,i,u,null,null,c);return a.firstCreatePass&&Gs(a,t,r.length-1),Jo(o,d),o[t.index]=d}function ny(t,e,n,r){for(let o of t)e.mergedAttrs=da(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Xs(e,e.mergedAttrs,!0),n!==null&&Fd(r,n,e))}function ry(t,e,n,r,o,i){let s=Ge(),a=o[O],c=Pe(s,o);Wd(a,o,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,f=Hn(o,a,d,s);Dt(f,o)}Yd(a,o,s),c&&Dt(c,o);let u=Hn(o,a,s.directiveStart+s.componentOffset,s);if(t[nt]=o[nt]=u,i!==null)for(let l of i)l(u,e);return Bd(a,s,o),u}function oy(t,e,n,r){if(r)Ms(t,n,["ng-version","17.2.4"]);else{let{attrs:o,classes:i}=Xp(e.selectors[0]);o&&Ms(t,n,o),i&&i.length>0&&Pd(t,n,i.join(" "))}}function iy(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function sy(){let t=Ge();Ma(ne()[O],t)}var Jn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ay;let t=e;return t})();function ay(){let t=Ge();return uy(t,ne())}var cy=Jn,lf=class extends cy{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new gt(this._hostTNode,this._hostLView)}get parentInjector(){let e=Aa(this._hostTNode,this._hostLView);if(pd(e)){let n=So(e,this._hostLView),r=_o(e),o=n[O].data[r+8];return new gt(o,n)}else return new gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=gl(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pe}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=ul(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,cl(this._hostTNode,s)),a}createComponent(e,n,r,o,i){let s=e&&!cm(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?e:new qn(mt(e)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let m=(s?u:this.parentInjector).get(ge,null);m&&(i=m)}let l=mt(c.componentType??{}),d=ul(this._lContainer,l?.id??null),f=d?.firstChild??null,h=c.create(u,o,f,i);return this.insertImpl(h.hostView,a,cl(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(ug(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[ee],u=new lf(c,c[xe],c[ee]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Mv(s,o,i,r),e.attachToViewContainerRef(),ql(_s(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=gl(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=zs(this._lContainer,n);r&&(Co(_s(this._lContainer),n),Nd(r[O],r))}detach(e){let n=this._adjustIndex(e,-1),r=zs(this._lContainer,n);return r&&Co(_s(this._lContainer),n)!=null?new bt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function gl(t){return t[wo]}function _s(t){return t[wo]||(t[wo]=[])}function uy(t,e){let n,r=e[t.index];return qe(r)?n=r:(n=Zd(r,e,null,t),e[t.index]=n,Jo(e,n)),dy(n,e,t,r),new lf(n,t,e)}function ly(t,e){let n=t[ae],r=n.createComment(""),o=Pe(e,t),i=Oa(n,o);return To(n,i,r,Gm(n,o),!1),r}var dy=py,fy=()=>!1;function hy(t,e,n){return fy(t,e,n)}function py(t,e,n,r){if(t[yt])return;let o;n.type&8?o=Be(r):o=ly(e,n),t[yt]=o}var it=class{},Gn=class{};var na=class extends it{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ao(this);let o=Sl(e);this._bootstrapComponents=xd(o.bootstrap),this._r3Injector=Id(e,n,[{provide:it,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver},...r],se(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ra=class extends Gn{constructor(e){super(),this.moduleType=e}create(e){return new na(this.moduleType,e,[])}};var Ro=class extends it{constructor(e){super(),this.componentFactoryResolver=new Ao(this),this.instance=null;let n=new Vn([...e.providers,{provide:it,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],e.parent||xa(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Va(t,e,n=null){return new Ro({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ei=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function df(t){return my(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gy(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function my(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function oa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vy(t,e,n,r){let o=oa(t,e,n);return oa(t,e+1,r)||o}function yy(t,e,n,r,o,i,s,a,c){let u=e.consts,l=Ko(e,t,4,s||null,bo(u,a));Gd(e,n,l,bo(u,c)),Ma(e,l);let d=l.tView=Fa(2,l,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Ba(t,e,n,r,o,i,s,a){let c=ne(),u=on(),l=t+ot,d=u.firstCreatePass?yy(l,u,c,e,n,r,o,i,s):u.data[l];Qn(d,!1);let f=wy(u,c,d,t);ya()&&ka(u,c,f,d),Dt(f,c);let h=Zd(f,c,f,d);return c[l]=h,Jo(c,h),hy(h,d,c),Nl(d)&&Hd(u,c,d),s!=null&&zd(c,d,a),Ba}var wy=Dy;function Dy(t,e,n,r){return wa(!0),e[ae].createComment("")}function by(t,e,n,r,o,i){let s=Dg(),a=vy(t,s,n,o);return Eg(2),a?e+Os(n)+r+Os(o)+i:Zo}function Ha(t,e,n){let r=ne(),o=Cg();if(oa(r,o,e)){let i=on(),s=xg();uv(i,s,r,t,e,r[ae],n,!1)}return Ha}function ml(t,e,n,r,o){let i=e.inputs,s=o?"class":"style";La(t,n,i[s],s,r)}function Cy(t,e,n,r,o,i){let s=e.consts,a=bo(s,o),c=Ko(e,t,2,r,a);return Gd(e,n,c,bo(s,i)),c.attrs!==null&&Xs(c,c.attrs,!1),c.mergedAttrs!==null&&Xs(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ti(t,e,n,r){let o=ne(),i=on(),s=ot+t,a=o[ae],c=i.firstCreatePass?Cy(s,i,o,e,n,r):i.data[s],u=Ey(i,o,c,a,e,t);o[s]=u;let l=Nl(c);return Qn(c,!0),Fd(a,u,c),(c.flags&32)!==32&&ya()&&ka(i,o,u,c),fg()===0&&Dt(u,o),hg(),l&&(Hd(i,o,c),Bd(i,c,o)),r!==null&&zd(o,c),ti}function ni(){let t=Ge();Ll()?wg():(t=t.parent,Qn(t,!1));let e=t;mg(e)&&vg(),pg();let n=on();return n.firstCreatePass&&(Ma(n,t),Rl(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&gm(e)&&ml(n,e,ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mm(e)&&ml(n,e,ne(),e.stylesWithoutHost,!1),ni}function za(t,e,n,r){return ti(t,e,n,r),ni(),za}var Ey=(t,e,n,r,o,i)=>(wa(!0),Md(r,o,Mg()));var No="en-US";var Iy=No;function _y(t){typeof t=="string"&&(Iy=t.toLowerCase().replace(/_/g,"-"))}function ff(t,e=""){let n=ne(),r=on(),o=t+ot,i=r.firstCreatePass?Ko(r,o,1,e,null):r.data[o],s=Sy(r,n,i,e,t);n[o]=s,ya()&&ka(r,n,s,i),Qn(i,!1)}var Sy=(t,e,n,r,o)=>(wa(!0),km(e[ae],r));function qa(t,e,n,r,o){let i=ne(),s=by(i,t,e,n,r,o);return s!==Zo&&Iv(i,va(),s),qa}var Ty=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let o=sd(!1,r.type),i=o.length>0?Va([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(P(ge))});let t=e;return t})();function ri(t){cf("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ty).getOrCreateStandaloneInjector(t)}var oi=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var hf=new k("");function Xn(t){return!!t&&typeof t.then=="function"}function pf(t){return!!t&&typeof t.subscribe=="function"}var gf=new k(""),mf=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=v(gf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let i of this.appInits){let s=i();if(Xn(s))r.push(s);else if(pf(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),r.length===0&&o(),this.initialized=!0}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ga=new k("");function xy(){lu(()=>{throw new w(600,!1)})}function My(t){return t.isBoundToModule}function Ay(t,e,n){try{let r=n();return Xn(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var er=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(_d),this.afterRenderEffectManager=v(uf),this.componentTypes=[],this.components=[],this.isStable=v(ei).hasPendingTasks.pipe(N(r=>!r)),this._injector=v(ge)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){let i=r instanceof Mo;if(!this._injector.get(mf).done){let h=!i&&_l(r),g=!1;throw new w(405,g)}let a;i?a=r:a=this._injector.get(Xo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=My(a)?void 0:this._injector.get(it),u=o||a.selector,l=a.create(Kn.NULL,[],u,c),d=l.location.nativeElement,f=l.injector.get(hf,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ss(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new w(101,!1);let r=j(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,j(r)}}detectChangesInAttachedViews(){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===tf)throw new w(103,!1);let i=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!i&&!Ts(s)||this.detectChangesInView(s,a,i);if(r++,o.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Ts(s))&&(o.execute(),!this._views.some(({_lView:s})=>Ts(s))))break}}detectChangesInView(r,o,i){let s;i?(s=0,r[D]|=1024):r[D]&64?s=0:s=1,nf(r,o,s)}attachView(r){let o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){let o=r;Ss(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let o=this._injector.get(Ga,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ss(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new w(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ss(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ts(t){return pa(t)}var ia=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Wa=(()=>{let e=class e{compileModuleSync(r){return new ra(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let o=this.compileModuleSync(r),i=Sl(r),s=xd(i.declarations).reduce((a,c)=>{let u=mt(c);return u&&a.push(new qn(u)),a},[]);return new ia(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ry=(()=>{let e=class e{constructor(){this.zone=v(H),this.applicationRef=v(er)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ny(t){return[{provide:H,useFactory:t},{provide:nn,multi:!0,useFactory:()=>{let e=v(Ry,{optional:!0});return()=>e.initialize()}},{provide:nn,multi:!0,useFactory:()=>{let e=v(Fy);return()=>{e.initialize()}}},{provide:_d,useFactory:Oy}]}function Oy(){let t=v(H),e=v(He);return n=>t.runOutsideAngular(()=>e.handleError(n))}function ky(t){let e=Ny(()=>new H(Py(t)));return qo([[],e])}function Py(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Fy=(()=>{let e=class e{constructor(){this.subscription=new q,this.initialized=!1,this.zone=v(H),this.pendingTasks=v(ei)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{H.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{H.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ly(){return typeof $localize<"u"&&$localize.locale||No}var Ya=new k("",{providedIn:"root",factory:()=>v(Ya,S.Optional|S.SkipSelf)||Ly()});var vf=new k("");var mo=null;function jy(t=[],e){return Kn.create({name:e,providers:[{provide:Go,useValue:"platform"},{provide:vf,useValue:new Set([()=>mo=null])},...t]})}function $y(t=[]){if(mo)return mo;let e=jy(t);return mo=e,xy(),Uy(e),e}function Uy(t){t.get(Ca,null)?.forEach(n=>n())}var tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vy;let t=e;return t})();function Vy(t){return By(Ge(),ne(),(t&16)===16)}function By(t,e,n){if($o(t)&&!n){let r=rn(t.index,e);return new bt(r,r)}else if(t.type&47){let r=e[ke];return new bt(r,e)}return null}var sa=class{constructor(){}supports(e){return df(e)}create(e){return new aa(e)}},Hy=(t,e)=>e,aa=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Hy}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<vl(r,o,i)?n:r,a=vl(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let f=0;f<u;f++){let h=f<i.length?i[f]:i[f]=0,g=h+f;l<=g&&g<u&&(i[f]=h+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!df(e))throw new w(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,gy(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new ca(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Oo),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Oo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ca=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ua=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Oo=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ua,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vl(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function yl(){return new Za([new sa])}var Za=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,o){if(o!=null){let i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||yl()),deps:[[e,new rd,new Sa]]}}find(r){let o=this.factories.find(i=>i.supports(r));if(o!=null)return o;throw new w(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:yl});let t=e;return t})();function yf(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=$y(r),i=[ky(),...n||[]],a=new Ro({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(H);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(He,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:h=>{u.handleError(h)}})});let d=()=>a.destroy(),f=o.get(vf);return f.add(d),a.onDestroy(()=>{l.unsubscribe(),f.delete(d)}),Ay(u,c,()=>{let h=a.get(mf);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Ya,No);_y(g||No);let m=a.get(er);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}var If=null;function cn(){return If}function _f(t){If??=t}var si=class{};var me=new k(""),Sf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>v(Yy),providedIn:"platform"});let t=e;return t})();var Yy=(()=>{let e=class e extends Sf{constructor(){super(),this._doc=v(me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(r){let o=cn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){let o=cn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,i){this._history.pushState(r,o,i)}replaceState(r,o,i){this._history.replaceState(r,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Tf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function wf(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function It(t){return t&&t[0]!=="?"?"?"+t:t}var ci=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>v(xf),providedIn:"root"});let t=e;return t})(),Zy=new k(""),xf=(()=>{let e=class e extends ci{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??v(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Tf(this._baseHref,r)}path(r=!1){let o=this._platformLocation.pathname+It(this._platformLocation.search),i=this._platformLocation.hash;return i&&r?`${o}${i}`:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+It(s));this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+It(s));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(o){return new(o||e)(P(Sf),P(Zy,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nr=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let o=this._locationStrategy.getBaseHref();this._basePath=Jy(wf(Df(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+It(o))}normalize(r){return e.stripTrailingSlash(Ky(this._basePath,Df(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",i=null){this._locationStrategy.pushState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+It(o)),i)}replaceState(r,o="",i=null){this._locationStrategy.replaceState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+It(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(i=>i(r,o))}subscribe(r,o,i){return this._subject.subscribe({next:r,error:o,complete:i})}};e.normalizeQueryParams=It,e.joinWithSlash=Tf,e.stripTrailingSlash=wf,e.\u0275fac=function(o){return new(o||e)(P(ci))},e.\u0275prov=I({token:e,factory:()=>Qy(),providedIn:"root"});let t=e;return t})();function Qy(){return new nr(P(ci))}function Ky(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Df(t){return t.replace(/\/index.html$/,"")}function Jy(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Mf(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Qa=class{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Af=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,i){this._viewContainer=r,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let o=this._viewContainer;r.forEachOperation((i,s,a)=>{if(i.previousIndex==null)o.createEmbeddedView(this._template,new Qa(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)o.remove(s===null?void 0:s);else if(s!==null){let c=o.get(s);o.move(c,a),bf(c,i)}});for(let i=0,s=o.length;i<s;i++){let c=o.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(i=>{let s=o.get(i.currentIndex);bf(s,i)})}static ngTemplateContextGuard(r,o){return!0}};e.\u0275fac=function(o){return new(o||e)(an(Jn),an($a),an(Za))},e.\u0275dir=Fo({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function bf(t,e){t.context.$implicit=e.item}var Ka=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Po({type:e}),e.\u0275inj=Bo({});let t=e;return t})(),Rf="browser",Xy="server";function Ja(t){return t===Xy}var ai=class{};var tc=class extends si{constructor(){super(...arguments),this.supportsDOMEvents=!0}},nc=class t extends tc{static makeCurrent(){_f(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tw();return n==null?null:nw(n)}resetBaseElement(){rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mf(document.cookie,e)}},rr=null;function tw(){return rr=rr||document.querySelector("base"),rr?rr.getAttribute("href"):null}function nw(t){return new URL(t,document.baseURI).pathname}var rw=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),rc=new k(""),Pf=(()=>{let e=class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,i){return this._findPluginFor(o).addEventListener(r,o,i)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(s=>s.supports(r)),!o)throw new w(5101,!1);return this._eventNameToPlugin.set(r,o),o}};e.\u0275fac=function(o){return new(o||e)(P(rc),P(H))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),ui=class{constructor(e){this._doc=e}},Xa="ng-app-id",Ff=(()=>{let e=class e{constructor(r,o,i,s={}){this.doc=r,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ja(s),this.resetHostNodes()}addStyles(r){for(let o of r)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(r){for(let o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){let o=this.styleRef;o.get(r)?.elements?.forEach(i=>i.remove()),o.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Xa}="${this.appId}"]`);if(r?.length){let o=new Map;return r.forEach(i=>{i.textContent!=null&&o.set(i.textContent,i)}),o}return null}changeUsageCount(r,o){let i=this.styleRef;if(i.has(r)){let s=i.get(r);return s.usage+=o,s.usage}return i.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){let i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===r)return i.delete(o),s.removeAttribute(Xa),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Xa,this.appId),r.appendChild(a),a}}addStyleToHost(r,o){let i=this.getStyleElement(r,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(o){return new(o||e)(P(me),P(ba),P(Ea,8),P(sn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),ec={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ic=/%COMP%/g,Lf="%COMP%",ow=`_nghost-${Lf}`,iw=`_ngcontent-${Lf}`,sw=!0,aw=new k("",{providedIn:"root",factory:()=>sw});function cw(t){return iw.replace(ic,t)}function uw(t){return ow.replace(ic,t)}function jf(t,e){return e.map(n=>n.replace(ic,t))}var Nf=(()=>{let e=class e{constructor(r,o,i,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ja(c),this.defaultRenderer=new or(r,a,u,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Oe.ShadowDom&&(o=B(y({},o),{encapsulation:Oe.Emulated}));let i=this.getOrCreateRenderer(r,o);return i instanceof li?i.applyToHost(r):i instanceof ir&&i.applyStyles(),i}getOrCreateRenderer(r,o){let i=this.rendererByCompId,s=i.get(o.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(o.encapsulation){case Oe.Emulated:s=new li(u,l,o,this.appId,d,a,c,f);break;case Oe.ShadowDom:return new oc(u,l,r,o,a,c,this.nonce,f);default:s=new ir(u,l,o,d,a,c,f);break}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(o){return new(o||e)(P(Pf),P(Ff),P(ba),P(aw),P(me),P(sn),P(H),P(Ea))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),or=class{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ec[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Of(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Of(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=ec[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=ec[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Et.DashCase|Et.Important)?e.style.setProperty(n,r,o&Et.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Et.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Of(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var oc=class extends or{constructor(e,n,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=jf(o.id,o.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ir=class extends or{constructor(e,n,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?jf(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},li=class extends ir{constructor(e,n,r,o,i,s,a,c){let u=o+"-"+r.id;super(e,n,r,i,s,a,c,u),this.contentAttr=cw(u),this.hostAttr=uw(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lw=(()=>{let e=class e extends ui{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,i){return r.addEventListener(o,i,!1),()=>this.removeEventListener(r,o,i)}removeEventListener(r,o,i){return r.removeEventListener(o,i)}};e.\u0275fac=function(o){return new(o||e)(P(me))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),kf=["alt","control","meta","shift"],dw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hw=(()=>{let e=class e extends ui{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,o,i){let s=e.parseEventName(o),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let o=r.toLowerCase().split("."),i=o.shift();if(o.length===0||!(i==="keydown"||i==="keyup"))return null;let s=e._normalizeKey(o.pop()),a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),kf.forEach(l=>{let d=o.indexOf(l);d>-1&&(o.splice(d,1),a+=l+".")}),a+=s,o.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(r,o){let i=dw[r.key]||r.key,s="";return o.indexOf("code.")>-1&&(i=r.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kf.forEach(a=>{if(a!==i){let c=fw[a];c(r)&&(s+=a+".")}}),s+=i,s===o)}static eventCallback(r,o,i){return s=>{e.matchEventFullKeyCode(s,r)&&i.runGuarded(()=>o(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(o){return new(o||e)(P(me))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function $f(t,e){return yf(y({rootComponent:t},pw(e)))}function pw(t){return{appProviders:[...ww,...t?.providers??[]],platformProviders:yw}}function gw(){nc.makeCurrent()}function mw(){return new He}function vw(){return Wl(document),document}var yw=[{provide:sn,useValue:Rf},{provide:Ca,useValue:gw,multi:!0},{provide:me,useFactory:vw,deps:[]}];var ww=[{provide:Go,useValue:"root"},{provide:He,useFactory:mw,deps:[]},{provide:rc,useClass:lw,multi:!0,deps:[me,H,sn]},{provide:rc,useClass:hw,multi:!0,deps:[me]},Nf,Ff,Pf,{provide:zn,useExisting:Nf},{provide:ai,useClass:rw,deps:[]},[]];var Uf=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(o){return new(o||e)(P(me))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _="primary",Dr=Symbol("RouteTitle"),lc=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function hn(t){return new lc(t)}function bw(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Cw(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fe(t[n],e[n]))return!1;return!0}function Fe(t,e){let n=t?dc(t):void 0,r=e?dc(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Gf(t[o],e[o]))return!1;return!0}function dc(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Gf(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function Wf(t){return t.length>0?t[t.length-1]:null}function ct(t){return ls(t)?t:Xn(t)?G(Promise.resolve(t)):E(t)}var Ew={exact:Zf,subset:Qf},Yf={exact:Iw,subset:_w,ignored:()=>!0};function Vf(t,e,n){return Ew[n.paths](t.root,e.root,n.matrixParams)&&Yf[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Iw(t,e){return Fe(t,e)}function Zf(t,e,n){if(!St(t.segments,e.segments)||!hi(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Zf(t.children[r],e.children[r],n))return!1;return!0}function _w(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Gf(t[n],e[n]))}function Qf(t,e,n){return Kf(t,e,e.segments,n)}function Kf(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!St(o,n)||e.hasChildren()||!hi(o,n,r))}else if(t.segments.length===n.length){if(!St(t.segments,n)||!hi(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!Qf(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!St(t.segments,o)||!hi(t.segments,o,r)||!t.children[_]?!1:Kf(t.children[_],e,i,r)}}function hi(t,e,n){return e.every((r,o)=>Yf[n](t[o].parameters,r.parameters))}var st=class{constructor(e=new L([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return xw.serialize(this)}},L=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pi(this)}},_t=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return Xf(this)}};function Sw(t,e){return St(t,e)&&t.every((n,r)=>Fe(n.parameters,e[r].parameters))}function St(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Tw(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===_&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==_&&(n=n.concat(e(o,r)))}),n}var Lc=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>new mi,providedIn:"root"});let t=e;return t})(),mi=class{parse(e){let n=new hc(e);return new st(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${sr(e.root,!0)}`,r=Rw(e.queryParams),o=typeof e.fragment=="string"?`#${Mw(e.fragment)}`:"";return`${n}${r}${o}`}},xw=new mi;function pi(t){return t.segments.map(e=>Xf(e)).join("/")}function sr(t,e){if(!t.hasChildren())return pi(t);if(e){let n=t.children[_]?sr(t.children[_],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==_&&r.push(`${o}:${sr(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Tw(t,(r,o)=>o===_?[sr(t.children[_],!1)]:[`${o}:${sr(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[_]!=null?`${pi(t)}/${n[0]}`:`${pi(t)}/(${n.join("//")})`}}function Jf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function di(t){return Jf(t).replace(/%3B/gi,";")}function Mw(t){return encodeURI(t)}function fc(t){return Jf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gi(t){return decodeURIComponent(t)}function Bf(t){return gi(t.replace(/\+/g,"%20"))}function Xf(t){return`${fc(t.path)}${Aw(t.parameters)}`}function Aw(t){return Object.entries(t).map(([e,n])=>`;${fc(e)}=${fc(n)}`).join("")}function Rw(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${di(n)}=${di(o)}`).join("&"):`${di(n)}=${di(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Nw=/^[^\/()?;#]+/;function sc(t){let e=t.match(Nw);return e?e[0]:""}var Ow=/^[^\/()?;=#]+/;function kw(t){let e=t.match(Ow);return e?e[0]:""}var Pw=/^[^=?&#]+/;function Fw(t){let e=t.match(Pw);return e?e[0]:""}var Lw=/^[^&#]+/;function jw(t){let e=t.match(Lw);return e?e[0]:""}var hc=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new L([],{}):new L([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_]=new L(e,n)),r}parseSegment(){let e=sc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new _t(gi(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=kw(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=sc(this.remaining);o&&(r=o,this.capture(r))}e[gi(n)]=gi(r)}parseQueryParam(e){let n=Fw(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=jw(this.remaining);s&&(r=s,this.capture(r))}let o=Bf(n),i=Bf(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sc(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new w(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=_);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[_]:new L([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}};function eh(t){return t.segments.length>0?new L([],{[_]:t}):t}function th(t){let e={};for(let[r,o]of Object.entries(t.children)){let i=th(o);if(r===_&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new L(t.segments,e);return $w(n)}function $w(t){if(t.numberOfChildren===1&&t.children[_]){let e=t.children[_];return new L(t.segments.concat(e.segments),e.children)}return t}function pn(t){return t instanceof st}function Uw(t,e,n=null,r=null){let o=nh(t);return rh(o,e,n,r)}function nh(t){let e;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new L(i.url,s);return i===t&&(e=a),a}let r=n(t.root),o=eh(r);return e??o}function rh(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return ac(o,o,o,n,r);let i=Vw(e);if(i.toRoot())return ac(o,o,new L([],{}),n,r);let s=Bw(i,o,t),a=s.processChildren?ur(s.segmentGroup,s.index,i.commands):ih(s.segmentGroup,s.index,i.commands);return ac(o,s.segmentGroup,a,n,r)}function vi(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fr(t){return typeof t=="object"&&t!=null&&t.outlets}function ac(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=oh(t,e,n);let a=eh(th(s));return new st(a,i,o)}function oh(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=oh(i,e,n)}),new L(t.segments,r)}var yi=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vi(r[0]))throw new w(4003,!1);let o=r.find(fr);if(o&&o!==Wf(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Vw(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yi(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new yi(n,e,r)}var dn=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Bw(t,e,n){if(t.isAbsolute)return new dn(e,!0,0);if(!n)return new dn(e,!1,NaN);if(n.parent===null)return new dn(n,!0,0);let r=vi(t.commands[0])?0:1,o=n.segments.length-1+r;return Hw(n,o,t.numberOfDoubleDots)}function Hw(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new w(4005,!1);o=r.segments.length}return new dn(r,!1,o-i)}function zw(t){return fr(t[0])?t[0].outlets:{[_]:t}}function ih(t,e,n){if(t??=new L([],{}),t.segments.length===0&&t.hasChildren())return ur(t,e,n);let r=qw(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new L(t.segments.slice(0,r.pathIndex),{});return i.children[_]=new L(t.segments.slice(r.pathIndex),t.children),ur(i,0,o)}else return r.match&&o.length===0?new L(t.segments,{}):r.match&&!t.hasChildren()?pc(t,e,n):r.match?ur(t,0,o):pc(t,e,n)}function ur(t,e,n){if(n.length===0)return new L(t.segments,{});{let r=zw(n),o={};if(Object.keys(r).some(i=>i!==_)&&t.children[_]&&t.numberOfChildren===1&&t.children[_].segments.length===0){let i=ur(t.children[_],e,n);return new L(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=ih(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new L(t.segments,o)}}function qw(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],a=n[r];if(fr(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!zf(c,u,s))return i;r+=2}else{if(!zf(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function pc(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(fr(i)){let c=Gw(i.outlets);return new L(r,c)}if(o===0&&vi(n[0])){let c=t.segments[e];r.push(new _t(c.path,Hf(n[0]))),o++;continue}let s=fr(i)?i.outlets[_]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&vi(a)?(r.push(new _t(s,Hf(a))),o+=2):(r.push(new _t(s,{})),o++)}return new L(r,{})}function Gw(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=pc(new L([],{}),0,r))}),e}function Hf(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zf(t,e,n){return t==n.path&&Fe(e,n.parameters)}var lr="imperative",X=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(X||{}),ye=class{constructor(e,n){this.id=e,this.url=n}},hr=class extends ye{constructor(e,n,r="imperative",o=null){super(e,n),this.type=X.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tt=class extends ye{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=X.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ve=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ve||{}),gc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gc||{}),at=class extends ye{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=X.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xt=class extends ye{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=X.NavigationSkipped}},pr=class extends ye{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=X.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wi=class extends ye{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=X.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mc=class extends ye{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=X.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vc=class extends ye{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=X.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yc=class extends ye{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=X.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wc=class extends ye{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=X.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dc=class{constructor(e){this.route=e,this.type=X.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bc=class{constructor(e){this.route=e,this.type=X.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cc=class{constructor(e){this.snapshot=e,this.type=X.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ec=class{constructor(e){this.snapshot=e,this.type=X.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ic=class{constructor(e){this.snapshot=e,this.type=X.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_c=class{constructor(e){this.snapshot=e,this.type=X.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var gr=class{},mr=class{constructor(e){this.url=e}};var Sc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _i,this.attachRef=null}},_i=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){let i=this.getOrCreateContext(r);i.outlet=o,this.contexts.set(r,i)}onChildOutletDestroyed(r){let o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new Sc,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Di=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tc(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tc(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=xc(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return xc(e,this._root).map(n=>n.value)}};function Tc(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tc(t,n);if(r)return r}return null}function xc(t,e){if(t===e.value)return[e];for(let n of e.children){let r=xc(t,n);if(r.length)return r.unshift(e),r}return[]}var ce=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ln(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var bi=class extends Di{constructor(e,n){super(e),this.snapshot=n,$c(this,e)}toString(){return this.snapshot.toString()}};function sh(t){let e=Ww(t),n=new J([new _t("",{})]),r=new J({}),o=new J({}),i=new J({}),s=new J(""),a=new gn(n,r,i,s,o,_,t,e.root);return a.snapshot=e.root,new bi(new ce(a,[]),e)}function Ww(t){let e={},n={},r={},o="",i=new vr([],e,r,o,n,_,t,null,{});return new Ci("",new ce(i,[]))}var gn=class{constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(N(u=>u[Dr]))??E(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(e=>hn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(e=>hn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jc(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),o?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},o&&ch(o)&&(r.resolve[Dr]=o.title),r}var vr=class{get title(){return this.data?.[Dr]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ci=class extends Di{constructor(e,n){super(n),this.url=e,$c(this,n)}toString(){return ah(this._root)}};function $c(t,e){e.value._routerState=t,e.children.forEach(n=>$c(t,n))}function ah(t){let e=t.children.length>0?` { ${t.children.map(ah).join(", ")} } `:"";return`${t.value}${e}`}function cc(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fe(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Fe(e.params,n.params)||t.paramsSubject.next(n.params),Cw(e.url,n.url)||t.urlSubject.next(n.url),Fe(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mc(t,e){let n=Fe(t.params,e.params)&&Sw(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Mc(t.parent,e.parent))}function ch(t){return typeof t.title=="string"||t.title===null}var Yw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=v(_i),this.location=v(Jn),this.changeDetector=v(tr),this.environmentInjector=v(ge),this.inputBinder=v(Uc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:o,previousValue:i}=r.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=r;let i=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ac(r,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Fo({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wo]});let t=e;return t})(),Ac=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gn?this.route:e===_i?this.childContexts:this.parent.get(e,n)}},Uc=new k("");function Zw(t,e,n){let r=yr(t,e._root,n?n._root:void 0);return new bi(r,e)}function yr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=Qw(t,e,n);return new ce(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>yr(t,a)),s}}let r=Kw(e.value),o=e.children.map(i=>yr(t,i));return new ce(r,o)}}function Qw(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return yr(t,r,o);return yr(t,r)})}function Kw(t){return new gn(new J(t.url),new J(t.params),new J(t.queryParams),new J(t.fragment),new J(t.data),t.outlet,t.component,t)}var uh="ngNavigationCancelingError";function lh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=pn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=dh(!1,ve.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function dh(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[uh]=!0,n.cancellationCode=e,n}function Jw(t){return fh(t)&&pn(t.url)}function fh(t){return!!t&&t[uh]}var Xw=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ko({type:e,selectors:[["ng-component"]],standalone:!0,features:[ri],decls:1,vars:0,template:function(o,i){o&1&&za(0,"router-outlet")},dependencies:[Yw],encapsulation:2});let t=e;return t})();function eD(t,e){return t.providers&&!t._injector&&(t._injector=Va(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Vc(t){let e=t.children&&t.children.map(Vc),n=e?B(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_&&(n.component=Xw),n}function Le(t){return t.outlet||_}function tD(t,e){let n=t.filter(r=>Le(r)===e);return n.push(...t.filter(r=>Le(r)!==e)),n}function br(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nD=(t,e,n,r)=>N(o=>(new Rc(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),Rc=class{constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cc(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=ln(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ln(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ln(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=ln(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new _c(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Ec(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(cc(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cc(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=br(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ei=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fn=class{constructor(e,n){this.component=e,this.route=n}};function rD(t,e,n){let r=t._root,o=e?e._root:null;return ar(r,o,n,[r.value])}function oD(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vn(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Yl(t)?t:e.get(t):r}function ar(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ln(e);return t.children.forEach(s=>{iD(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>dr(a,n.getContext(s),o)),o}function iD(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=sD(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ei(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ar(t,e,a?a.children:null,r,o):ar(t,e,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new fn(a.outlet.component,s))}else s&&dr(e,a,o),o.canActivateChecks.push(new Ei(r)),i.component?ar(t,null,a?a.children:null,r,o):ar(t,null,n,r,o);return o}function sD(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!St(t.url,e.url);case"pathParamsOrQueryParamsChange":return!St(t.url,e.url)||!Fe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mc(t,e)||!Fe(t.queryParams,e.queryParams);case"paramsChange":default:return!Mc(t,e)}}function dr(t,e,n){let r=ln(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?dr(s,e.children.getContext(i),n):dr(s,null,n):dr(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new fn(e.outlet.component,o)):n.canDeactivateChecks.push(new fn(null,o)):n.canDeactivateChecks.push(new fn(null,o))}function Cr(t){return typeof t=="function"}function aD(t){return typeof t=="boolean"}function cD(t){return t&&Cr(t.canLoad)}function uD(t){return t&&Cr(t.canActivate)}function lD(t){return t&&Cr(t.canActivateChild)}function dD(t){return t&&Cr(t.canDeactivate)}function fD(t){return t&&Cr(t.canMatch)}function hh(t){return t instanceof Ue||t?.name==="EmptyError"}var fi=Symbol("INITIAL_VALUE");function mn(){return Ie(t=>ao(t.map(e=>e.pipe(Ve(1),gs(fi)))).pipe(N(e=>{for(let n of e)if(n!==!0){if(n===fi)return fi;if(n===!1||n instanceof st)return n}return!0}),Ee(e=>e!==fi),Ve(1)))}function hD(t,e){return W(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?E(B(y({},n),{guardsResult:!0})):pD(s,r,o,t).pipe(W(a=>a&&aD(a)?gD(r,i,t,e):E(a)),N(a=>B(y({},n),{guardsResult:a})))})}function pD(t,e,n,r){return G(t).pipe(W(o=>DD(o.component,o.route,n,e,r)),Ae(o=>o!==!0,!0))}function gD(t,e,n,r){return G(e).pipe(Gt(o=>qt(vD(o.route.parent,r),mD(o.route,r),wD(t,o.path,n),yD(t,o.route,n))),Ae(o=>o!==!0,!0))}function mD(t,e){return t!==null&&e&&e(new Ic(t)),E(!0)}function vD(t,e){return t!==null&&e&&e(new Cc(t)),E(!0)}function yD(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return E(!0);let o=r.map(i=>co(()=>{let s=br(e)??n,a=vn(i,s),c=uD(a)?a.canActivate(e,t):Ct(s,()=>a(e,t));return ct(c).pipe(Ae())}));return E(o).pipe(mn())}function wD(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>oD(s)).filter(s=>s!==null).map(s=>co(()=>{let a=s.guards.map(c=>{let u=br(s.node)??n,l=vn(c,u),d=lD(l)?l.canActivateChild(r,t):Ct(u,()=>l(r,t));return ct(d).pipe(Ae())});return E(a).pipe(mn())}));return E(i).pipe(mn())}function DD(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return E(!0);let s=i.map(a=>{let c=br(e)??o,u=vn(a,c),l=dD(u)?u.canDeactivate(t,e,n,r):Ct(c,()=>u(t,e,n,r));return ct(l).pipe(Ae())});return E(s).pipe(mn())}function bD(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return E(!0);let i=o.map(s=>{let a=vn(s,t),c=cD(a)?a.canLoad(e,n):Ct(t,()=>a(e,n));return ct(c)});return E(i).pipe(mn(),ph(r))}function ph(t){return ss(Z(e=>{if(pn(e))throw lh(t,e)}),N(e=>e===!0))}function CD(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return E(!0);let i=o.map(s=>{let a=vn(s,t),c=fD(a)?a.canMatch(e,n):Ct(t,()=>a(e,n));return ct(c)});return E(i).pipe(mn(),ph(r))}var wr=class{constructor(e){this.segmentGroup=e||null}},Ii=class extends Error{constructor(e){super(),this.urlTree=e}};function un(t){return zt(new wr(t))}function ED(t){return zt(new w(4e3,!1))}function ID(t){return zt(dh(!1,ve.GuardRejected))}var Nc=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return E(r);if(o.numberOfChildren>1||!o.children[_])return ED(e.redirectTo);o=o.children[_]}}applyRedirectCommands(e,n,r){let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ii(o);return o}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new st(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i.startsWith(":")){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new L(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new w(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}},Oc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _D(t,e,n,r,o){let i=Bc(t,e,n);return i.matched?(r=eD(e,r),CD(r,e,n,o).pipe(N(s=>s===!0?i:y({},Oc)))):E(i)}function Bc(t,e,n){if(e.path==="**")return SD(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},Oc):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||bw)(n,t,e);if(!o)return y({},Oc);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?y(y({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function SD(t){return{matched:!0,parameters:t.length>0?Wf(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qf(t,e,n,r){return n.length>0&&MD(t,n,r)?{segmentGroup:new L(e,xD(r,new L(n,t.children))),slicedSegments:[]}:n.length===0&&AD(t,n,r)?{segmentGroup:new L(t.segments,TD(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new L(t.segments,t.children),slicedSegments:n}}function TD(t,e,n,r){let o={};for(let i of n)if(Si(t,e,i)&&!r[Le(i)]){let s=new L([],{});o[Le(i)]=s}return y(y({},r),o)}function xD(t,e){let n={};n[_]=e;for(let r of t)if(r.path===""&&Le(r)!==_){let o=new L([],{});n[Le(r)]=o}return n}function MD(t,e,n){return n.some(r=>Si(t,e,r)&&Le(r)!==_)}function AD(t,e,n){return n.some(r=>Si(t,e,r))}function Si(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function RD(t,e,n,r){return Le(t)!==r&&(r===_||!Si(e,n,t))?!1:Bc(e,t,n).matched}function ND(t,e,n){return e.length===0&&!t.children[n]}var kc=class{};function OD(t,e,n,r,o,i,s="emptyOnly"){return new Pc(t,e,n,r,o,s,i).recognize()}var kD=31,Pc=class{constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Nc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new w(4002,`'${e.segmentGroup}'`)}recognize(){let e=qf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(N(n=>{let r=new vr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,{},_,this.rootComponentType,null,{}),o=new ce(r,n),i=new Ci("",o),s=Uw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,_).pipe(Ke(r=>{if(r instanceof Ii)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wr?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,o=jc(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),e.children.forEach(i=>this.inheritParamsAndData(i,r))}processSegmentGroup(e,n,r,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0).pipe(N(i=>i instanceof ce?[i]:[]))}processChildren(e,n,r){let o=[];for(let i of Object.keys(r.children))i==="primary"?o.unshift(i):o.push(i);return G(o).pipe(Gt(i=>{let s=r.children[i],a=tD(n,i);return this.processSegmentGroup(e,a,s,i)}),ps((i,s)=>(i.push(...s),i)),Je(null),hs(),W(i=>{if(i===null)return un(r);let s=gh(i);return PD(s),E(s)}))}processSegment(e,n,r,o,i,s){return G(n).pipe(Gt(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,o,i,s).pipe(Ke(c=>{if(c instanceof wr)return E(null);throw c}))),Ae(a=>!!a),Ke(a=>{if(hh(a))return ND(r,o,i)?E(new kc):un(r);throw a}))}processSegmentAgainstRoute(e,n,r,o,i,s,a){return RD(r,o,i,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s):un(o):un(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Bc(n,o,i);if(!a)return un(n);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kD&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,u);return this.applyRedirects.lineralizeSegments(o,d).pipe(W(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,o,i){let s=_D(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ie(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Ie(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,h=new vr(l,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,LD(r),Le(r),r.component??r._loadedComponent??null,r,jD(r)),{segmentGroup:g,slicedSegments:m}=qf(n,l,d,c);if(m.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(N(M=>M===null?null:new ce(h,M)));if(c.length===0&&m.length===0)return E(new ce(h,[]));let b=Le(r)===i;return this.processSegment(u,c,g,m,b?_:i,!0).pipe(N(M=>new ce(h,M instanceof ce?[M]:[])))}))):un(n)))}getChildConfig(e,n,r){return n.children?E({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?E({routes:n._loadedRoutes,injector:n._loadedInjector}):bD(e,n,r,this.urlSerializer).pipe(W(o=>o?this.configLoader.loadChildren(e,n).pipe(Z(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):ID(n))):E({routes:[],injector:e})}};function PD(t){t.sort((e,n)=>e.value.outlet===_?-1:n.value.outlet===_?1:e.value.outlet.localeCompare(n.value.outlet))}function FD(t){let e=t.value.routeConfig;return e&&e.path===""}function gh(t){let e=[],n=new Set;for(let r of t){if(!FD(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=gh(r.children);e.push(new ce(r.value,o))}return e.filter(r=>!n.has(r))}function LD(t){return t.data||{}}function jD(t){return t.resolve||{}}function $D(t,e,n,r,o,i){return W(s=>OD(t,e,n,r,s.extractedUrl,o,i).pipe(N(({state:a,tree:c})=>B(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function UD(t,e){return W(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return E(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of mh(c))s.add(u);let a=0;return G(s).pipe(Gt(c=>i.has(c)?VD(c,r,t,e):(c.data=jc(c,c.parent,t).resolve,E(void 0))),Z(()=>a++),Wt(1),W(c=>a===s.size?E(n):de))})}function mh(t){let e=t.children.map(n=>mh(n)).flat();return[t,...e]}function VD(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!ch(o)&&(i[Dr]=o.title),BD(i,t,e,r).pipe(N(s=>(t._resolvedData=s,t.data=jc(t,t.parent,n).resolve,null)))}function BD(t,e,n,r){let o=dc(t);if(o.length===0)return E({});let i={};return G(o).pipe(W(s=>HD(t[s],e,n,r).pipe(Ae(),Z(a=>{i[s]=a}))),Wt(1),fs(i),Ke(s=>hh(s)?de:zt(s)))}function HD(t,e,n,r){let o=br(e)??r,i=vn(t,o),s=i.resolve?i.resolve(e,n):Ct(o,()=>i(e,n));return ct(s)}function uc(t){return Ie(e=>{let n=t(e);return n?G(n).pipe(N(()=>e)):E(e)})}var vh=(()=>{let e=class e{buildTitle(r){let o,i=r.root;for(;i!==void 0;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===_);return o}getResolvedTitleForRoute(r){return r.data[Dr]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>v(zD),providedIn:"root"});let t=e;return t})(),zD=(()=>{let e=class e extends vh{constructor(r){super(),this.title=r}updateTitle(r){let o=this.buildTitle(r);o!==void 0&&this.title.setTitle(o)}};e.\u0275fac=function(o){return new(o||e)(P(Uf))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hc=new k("",{providedIn:"root",factory:()=>({})}),zc=new k(""),qD=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(Wa)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return E(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=ct(r.loadComponent()).pipe(N(yh),Z(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Rn(()=>{this.componentLoaders.delete(r)})),i=new Ht(o,()=>new ie).pipe(Bt());return this.componentLoaders.set(r,i),i}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return E({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let s=GD(o,this.compiler,r,this.onLoadEndListener).pipe(Rn(()=>{this.childrenLoaders.delete(o)})),a=new Ht(s,()=>new ie).pipe(Bt());return this.childrenLoaders.set(o,a),a}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GD(t,e,n,r){return ct(t.loadChildren()).pipe(N(yh),W(o=>o instanceof Gn||Array.isArray(o)?E(o):G(e.compileModuleAsync(o))),N(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(zc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Vc),injector:i}}))}function WD(t){return t&&typeof t=="object"&&"default"in t}function yh(t){return WD(t)?t.default:t}var qc=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>v(YD),providedIn:"root"});let t=e;return t})(),YD=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZD=new k("");var QD=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ie,this.transitionAbortSubject=new ie,this.configLoader=v(qD),this.environmentInjector=v(ge),this.urlSerializer=v(Lc),this.rootContexts=v(_i),this.location=v(nr),this.inputBindingEnabled=v(Uc,{optional:!0})!==null,this.titleStrategy=v(vh),this.options=v(Hc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(qc),this.createViewTransition=v(ZD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>E(void 0),this.rootComponentType=null;let r=i=>this.events.next(new Dc(i)),o=i=>this.events.next(new bc(i));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let o=++this.navigationId;this.transitions?.next(B(y(y({},this.transitions.value),r),{id:o}))}setupNavigations(r,o,i){return this.transitions=new J({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lr,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ee(s=>s.id!==0),N(s=>B(y({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ie(s=>{this.currentTransition=s;let a=!1,c=!1;return E(s).pipe(Z(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?B(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ie(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new xt(u.id,this.urlSerializer.serialize(u.rawUrl),f,gc.IgnoredSameUrlNavigation)),u.resolve(null),de}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return E(u).pipe(Ie(f=>{let h=this.transitions?.getValue();return this.events.next(new hr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?de:Promise.resolve(f)}),$D(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Z(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=B(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new wi(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:m,extras:b}=u,M=new hr(f,this.urlSerializer.serialize(h),g,m);this.events.next(M);let te=sh(this.rootComponentType).snapshot;return this.currentTransition=s=B(y({},u),{targetSnapshot:te,urlAfterRedirects:h,extras:B(y({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,E(s)}else{let f="";return this.events.next(new xt(u.id,this.urlSerializer.serialize(u.extractedUrl),f,gc.IgnoredByUrlHandlingStrategy)),u.resolve(null),de}}),Z(u=>{let l=new mc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),N(u=>(this.currentTransition=s=B(y({},u),{guards:rD(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),hD(this.environmentInjector,u=>this.events.next(u)),Z(u=>{if(s.guardsResult=u.guardsResult,pn(u.guardsResult))throw lh(this.urlSerializer,u.guardsResult);let l=new vc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ee(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ve.GuardRejected),!1)),uc(u=>{if(u.guards.canActivateChecks.length)return E(u).pipe(Z(l=>{let d=new yc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ie(l=>{let d=!1;return E(l).pipe(UD(this.paramsInheritanceStrategy,this.environmentInjector),Z({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ve.NoDataFromResolver)}}))}),Z(l=>{let d=new wc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),uc(u=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Z(h=>{d.component=h}),N(()=>{})));for(let h of d.children)f.push(...l(h));return f};return ao(l(u.targetSnapshot.root)).pipe(Je(null),Ve(1))}),uc(()=>this.afterPreactivation()),Ie(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?G(d).pipe(N(()=>s)):E(s)}),N(u=>{let l=Zw(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=B(y({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Z(()=>{this.events.next(new gr)}),nD(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ve(1),Z({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ms(this.transitionAbortSubject.pipe(Z(u=>{throw u}))),Rn(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",ve.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ke(u=>{if(c=!0,fh(u))this.events.next(new at(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Jw(u)?this.events.next(new mr(u.url)):s.resolve(!1);else{this.events.next(new pr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return de}))}))}cancelNavigationTransition(r,o,i){let s=new at(r.id,this.urlSerializer.serialize(r.extractedUrl),o,i);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KD(t){return t!==lr}var JD=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>v(XD),providedIn:"root"});let t=e;return t})(),Fc=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},XD=(()=>{let e=class e extends Fc{};e.\u0275fac=(()=>{let r;return function(i){return(r||(r=Ra(e)))(i||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wh=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:()=>v(eb),providedIn:"root"});let t=e;return t})(),eb=(()=>{let e=class e extends wh{constructor(){super(...arguments),this.location=v(nr),this.urlSerializer=v(Lc),this.options=v(Hc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(qc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new st,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sh(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(o=>{o.type==="popstate"&&r(o.url,o.state)})}handleRouterEvent(r,o){if(r instanceof hr)this.stateMemento=this.createStateMemento();else if(r instanceof xt)this.rawUrlTree=o.initialUrl;else if(r instanceof wi){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else r instanceof gr?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):r instanceof at&&(r.code===ve.GuardRejected||r.code===ve.NoDataFromResolver)?this.restoreHistory(o):r instanceof pr?this.restoreHistory(o,!0):r instanceof Tt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,o){let i=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){let s=this.browserPageId,a=y(y({},o.extras.state),this.generateNgRouterState(o.id,s));this.location.replaceState(i,"",a)}else{let s=y(y({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(r,o=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(i){return(r||(r=Ra(e)))(i||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(cr||{});function tb(t,e){t.events.pipe(Ee(n=>n instanceof Tt||n instanceof at||n instanceof pr||n instanceof xt),N(n=>n instanceof Tt||n instanceof xt?cr.COMPLETE:(n instanceof at?n.code===ve.Redirect||n.code===ve.SupersededByNewNavigation:!1)?cr.REDIRECTING:cr.FAILED),Ee(n=>n!==cr.REDIRECTING),Ve(1)).subscribe(()=>{e()})}function nb(t){throw t}var rb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ob={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dh=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(oi),this.stateManager=v(wh),this.options=v(Hc,{optional:!0})||{},this.pendingTasks=v(ei),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(QD),this.urlSerializer=v(Lc),this.location=v(nr),this.urlHandlingStrategy=v(qc),this._events=new ie,this.errorHandler=this.options.errorHandler||nb,this.navigated=!1,this.routeReuseStrategy=v(JD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(zc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(Uc,{optional:!0}),this.eventsSubscription=new q,this.isNgZoneEnabled=v(H)instanceof H&&H.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(o=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(o,s),o instanceof at&&o.code!==ve.Redirect&&o.code!==ve.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Tt)this.navigated=!0;else if(o instanceof mr){let a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||KD(i.source)};this.scheduleNavigation(a,lr,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sb(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",o)},0)})}navigateToSyncWithBrowser(r,o,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=y({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Vc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=o,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=y(y({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=nh(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return rh(f,r,d,l??null)}navigateByUrl(r,o={skipLocationChange:!1}){let i=pn(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,lr,null,o)}navigate(r,o={skipLocationChange:!1}){return ib(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,o){let i;if(o===!0?i=y({},rb):o===!1?i=y({},ob):i=o,pn(r))return Vf(this.currentUrlTree,r,i);let s=this.parseUrl(r);return Vf(this.currentUrlTree,s,i)}removeEmptyProps(r){return Object.entries(r).reduce((o,[i,s])=>(s!=null&&(o[i]=s),o),{})}scheduleNavigation(r,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});let d=this.pendingTasks.add();return tb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ib(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new w(4008,!1)}function sb(t){return!(t instanceof gr)&&!(t instanceof mr)}var ab=new k("");function bh(t,...e){return qo([{provide:zc,multi:!0,useValue:t},[],{provide:gn,useFactory:cb,deps:[Dh]},{provide:Ga,multi:!0,useFactory:ub},e.map(n=>n.\u0275providers)])}function cb(t){return t.routerState.root}function ub(){let t=v(Kn);return e=>{let n=t.get(er);if(e!==n.components[0])return;let r=t.get(Dh),o=t.get(lb);t.get(db)===1&&r.initialNavigation(),t.get(fb,null,S.Optional)?.setUpPreloading(),t.get(ab,null,S.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var lb=new k("",{factory:()=>new ie}),db=new k("",{providedIn:"root",factory:()=>1});var fb=new k("");var Ch=[];var Eh={providers:[bh(Ch)]};var Ih=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var Er=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Ti=class extends Er{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},xi=class extends Er{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Mi=class extends Er{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var hb=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Ir=class{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=Ih(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return hb(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(h=>{throw new Ti(h)}),l=u.headers.get("x-relay-error");if(l&&l==="true")throw new xi(u);if(!u.ok)throw new Mi(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield u.json():d==="application/octet-stream"?f=yield u.blob():d==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var Ai=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var _r=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Br:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c;let u=null,l=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){let M=yield i.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=M:l=JSON.parse(M))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,f=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let m=yield i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(l=[],u=null,f=200,h="OK")}catch{i.status===404&&m===""?(f=204,h="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw new Ai(u)}return{error:u,data:l,count:d,status:f,statusText:h}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}};var Sr=class extends _r{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var Me=class extends Sr{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var Tr=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=n,this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Me({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Me({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Me({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new Me({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Me({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var _h="1.9.2";var Sh={"X-Client-Info":`postgrest-js/${_h}`};var xr=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},Sh),n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new Tr(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:o}={}){let i,s=new URL(`${this.url}/rpc/${e}`),a;r?(i="HEAD",Object.entries(n).forEach(([u,l])=>{s.searchParams.append(u,`${l}`)})):(i="POST",a=n);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new Me({method:i,url:s,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Th="2.9.3";var xh={"X-Client-Info":`realtime-js/${Th}`},Mh="1.0.0",Ri=1e4,Ah=1e3,yn=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(yn||{}),ue=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(ue||{}),we=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(we||{}),Gc=function(t){return t.websocket="websocket",t}(Gc||{}),Mt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(Mt||{});var wn=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ni=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var Dn=class{constructor(e,n,r={},o=Ri){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Mr=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let f=l.map(b=>b.presence_ref),h=d.map(b=>b.presence_ref),g=l.filter(b=>h.indexOf(b.presence_ref)<0),m=d.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(a[u]=g),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){let d=e[a].map(h=>h.presence_ref),f=l.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,l,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,o(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var V=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(V||{}),Yc=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=pb(s,t,e,o),i),{})},pb=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?Rh(i,s):Wc(s)},Rh=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return yb(e,n)}switch(t){case V.bool:return gb(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return mb(e);case V.json:case V.jsonb:return vb(e);case V.timestamp:return wb(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Wc(e);default:return Wc(e)}},Wc=t=>t,gb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mb=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yb=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Rh(e,a))}return t},wb=t=>typeof t=="string"?t.replace(" ","T"):t;var Ar=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dn(this,we.join,this.params,this.timeout),this.rejoinTimer=new wn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(we.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Mr(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));let a={},c={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var l;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,f=(l=d?.length)!==null&&l!==void 0?l:0,h=[];for(let g=0;g<f;g++){let m=d[g],{filter:{event:b,schema:M,table:te,filter:K}}=m,z=u&&u[g];if(z&&z.event===b&&z.schema===M&&z.table===te&&z.filter===K)h.push(Object.assign(Object.assign({},m),{id:z.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{apikey:(o=this.socket.apiKey)!==null&&o!==void 0?o:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;let l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(we.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Dn(this,we.leave,{},e);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Dn(this,e,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=we;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var g,m,b;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=h.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var g,m,b,M,te,K;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let z=h.id,le=(g=h.filter)===null||g===void 0?void 0:g.event;return z&&((m=n.ids)===null||m===void 0?void 0:m.includes(z))&&(le==="*"||le?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let z=(te=(M=h?.filter)===null||M===void 0?void 0:M.event)===null||te===void 0?void 0:te.toLocaleLowerCase();return z==="*"||z===((K=n?.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){let g=f.data,{schema:m,table:b,commit_timestamp:M,type:te,errors:K}=g;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:M,eventType:te,new:{},old:{},errors:K}),this._getPayloadRecords(g))}h.callback(f,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(we.close,{},e)}_onError(e){this._on(we.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Yc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Yc(e.columns,e.old_record)),n}};var bb=()=>{},Cb=typeof WebSocket<"u",Rr=class{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=xh,this.params={},this.timeout=Ri,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=bb,this.conn=null,this.sendBuffer=[],this.serializer=new Ni,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-2UTJ4IR6.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${Gc.websocket}`,n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;o&&(this.accessToken=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wn(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Cb){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Zc(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-7EJ4JCZP.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yn.connecting:return Mt.Connecting;case yn.open:return Mt.Open;case yn.closing:return Mt.Closing;default:return Mt.Closed}}isConnected(){return this.connectionState()===Mt.Open}channel(e,n={config:{}}){let r=new Ar(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(we.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mh}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;(s&&s===this.pendingHeartbeatRef||o===i?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(we.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ah,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Zc=class{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}};var bn=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Q(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Oi=class extends bn{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Nr=class extends bn{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var Eb=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},ki=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Nh=()=>Eb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-2UTJ4IR6.js")).Response:Response});var Cn=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Qc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ib=(t,e)=>Cn(void 0,void 0,void 0,function*(){let n=yield Nh();t instanceof n?t.json().then(r=>{e(new Oi(Qc(r),t.status||500))}).catch(r=>{e(new Nr(Qc(r),r))}):e(new Nr(Qc(t),t))}),_b=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function Pi(t,e,n,r,o,i){return Cn(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,_b(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Ib(c,a))})})}function Or(t,e,n,r){return Cn(this,void 0,void 0,function*(){return Pi(t,"GET",e,n,r)})}function je(t,e,n,r,o){return Cn(this,void 0,void 0,function*(){return Pi(t,"POST",e,r,o,n)})}function Oh(t,e,n,r,o){return Cn(this,void 0,void 0,function*(){return Pi(t,"PUT",e,r,o,n)})}function Fi(t,e,n,r,o){return Cn(this,void 0,void 0,function*(){return Pi(t,"DELETE",e,r,o,n)})}var De=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Sb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Li=class{constructor(e,n={},r,o){this.url=e,this.headers=n,this.bucketId=r,this.fetch=ki(o)}uploadOrUpdate(e,n,r,o){return De(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},kh),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl)):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);let c=this._removeEmptyFolders(n),u=this._getFinalPath(c),l=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),d=yield l.json();return l.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(Q(i))return{data:null,error:i};throw i}})}upload(e,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return De(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:kh.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Q(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return De(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield je(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),o=new URL(this.url+r.url),i=o.searchParams.get("token");if(!i)throw new bn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}update(e,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return De(this,void 0,void 0,function*(){try{return{data:yield je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}copy(e,n){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return De(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield je(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return De(this,void 0,void 0,function*(){try{let o=yield je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}})}download(e,n){return De(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Or(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Q(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return De(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}list(e,n,r){return De(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Sb),n),{prefix:e||""});return{data:yield je(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var Ph="2.5.5";var Fh={"X-Client-Info":`storage-js/${Ph}`};var En=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},ji=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Fh),n),this.fetch=ki(r)}listBuckets(){return En(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Q(e))return{data:null,error:e};throw e}})}getBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return En(this,void 0,void 0,function*(){try{return{data:yield je(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return En(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}})}emptyBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}deleteBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}})}};var kr=class extends ji{constructor(e,n={},r){super(e,n,r)}from(e){return new Li(this.url,this.headers,e,this.fetch)}};var Lh="2.39.8";var Pr="";typeof Deno<"u"?Pr="deno":typeof document<"u"?Pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pr="react-native":Pr="node";var Tb={"X-Client-Info":`supabase-js-${Pr}/${Lh}`},jh={headers:Tb},$h={schema:"public"},Uh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vh={};var xb=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Mb=t=>{let e;return t?e=t:typeof fetch>"u"?e=Br:e=fetch,(...n)=>e(...n)},Ab=()=>typeof Headers>"u"?ru:Headers,Bh=(t,e,n)=>{let r=Mb(n),o=Ab();return(i,s)=>xb(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};function Hh(t){return t.replace(/\/$/,"")}function zh(t,e){let{db:n,auth:r,realtime:o,global:i}=t,{db:s,auth:a,realtime:c,global:u}=e;return{db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},u),i)}}function qh(t){return Math.round(Date.now()/1e3)+t}function Gh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var be=()=>typeof document<"u",At={tested:!1,writable:!1},ut=()=>{if(!be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(At.tested)return At.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),At.tested=!0,At.writable=!0}catch{At.tested=!0,At.writable=!1}return At.writable};function $i(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Ui=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Wh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",lt=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),Lr=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Vi=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function Rb(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,i,s,a,c,u,l=0;for(t=t.replace("-","+").replace("_","/");l<t.length;)s=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),c=e.indexOf(t.charAt(l++)),u=e.indexOf(t.charAt(l++)),r=s<<2|a>>4,o=(a&15)<<4|c>>2,i=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&o!=0&&(n=n+String.fromCharCode(o)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}var Fr=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Fr.promiseConstructor=Promise;function Kc(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(Rb(r))}function Yh(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function Zh(t,e){return new Promise((r,o)=>{p(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})})}function Nb(t){return("0"+t.toString(16)).substr(-2)}function Rt(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Nb).join("")}function Ob(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function kb(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Nt(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield Ob(t);return kb(n)})}var jr=class extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}};function T(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Bi=class extends jr{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function Qh(t){return T(t)&&t.name==="AuthApiError"}var In=class extends jr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},We=class extends jr{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ye=class extends We{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},_n=class extends We{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Ot=class extends We{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},kt=class extends We{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$r=class extends We{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Sn=class extends We{constructor(e,n){super(e,"AuthRetryableFetchError",n)}};function zi(t){return T(t)&&t.name==="AuthRetryableFetchError"}var Hi=class extends We{constructor(e,n,r){super(e,"AuthWeakPasswordError",n),this.reasons=r}};var Pb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fb=[502,503,504];function Kh(t){return p(this,null,function*(){if(!Wh(t))throw new Sn(Tn(t),0);if(Fb.includes(t.status))throw new Sn(Tn(t),t.status);let e;try{e=yield t.json()}catch(n){throw new In(Tn(n),n)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new Hi(Tn(e),t.status,e.weak_password.reasons):new Bi(Tn(e),t.status||500)})}var Lb=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function x(t,e,n,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield jb(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function jb(t,e,n,r,o,i){return p(this,null,function*(){let s=Lb(e,r,o,i),a;try{a=yield t(n,s)}catch(c){throw console.error(c),new Sn(Tn(c),0)}if(a.ok||(yield Kh(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Kh(c)}})}function dt(t){var e;let n=null;$b(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=qh(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Jc(t){let e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $e(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jh(t){return{data:t,error:null}}function Xh(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=Pb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function ep(t){return t}function $b(t){return t.access_token&&t.refresh_token&&t.expires_in}var Ub=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},xn=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ui(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield x(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$e})}catch(o){if(T(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=Ub(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield x(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Xh,redirectTo:n?.redirectTo})}catch(n){if(T(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$e})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=yield x(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:ep});if(l.error)throw l.error;let d=yield l.json(),f=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(T(u))return{data:{users:[]},error:u};throw u}})}getUserById(e){return p(this,null,function*(){try{return yield x(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$e})}catch(n){if(T(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield x(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$e})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield x(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$e})}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield x(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(T(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield x(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(T(n))return{data:null,error:n};throw n}})}};var qi="0.0.0";var tp="http://localhost:9999",np="supabase.auth.token";var rp={"X-Client-Info":`gotrue-js/${qi}`},Xc=10;var op={getItem:t=>ut()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ut()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ut()&&globalThis.localStorage.removeItem(t)}};function eu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ip(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Pt={debug:!!(globalThis&&ut()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ur=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Gi=class extends Ur{};function tu(t,e,n){return p(this,null,function*(){Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>p(this,null,function*(){if(o){Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return yield n()}finally{Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Pt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Gi(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pt.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}}))})}ip();var Vb={url:tp,storageKey:np,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rp,flowType:"implicit",debug:!1},Vr=30*1e3,sp=3;function ap(t,e,n){return p(this,null,function*(){return yield n()})}var Wi=(()=>{class t{constructor(n){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},Vb),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xn({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ui(i.fetch),this.lock=i.lock||ap,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,i.lock?this.lock=i.lock:be()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=tu:this.lock=ap,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ut()?this.storage=op:(this.memoryStorage={},this.storage=eu(this.memoryStorage)):(this.memoryStorage={},this.storage=eu(this.memoryStorage)),be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qi}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=be()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:o}=yield this._getSessionFromURL(n);if(o)return this._debug("#_initialize()","error detecting session from URL",o),o?.message==="Identity is already linked"||o?.message==="Identity is already linked to another user"?{error:o}:(yield this._removeSession(),{error:o});let{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),yield this._saveSession(i),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",i):yield this._notifyAllSubscribers("SIGNED_IN",i)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return T(n)?{error:n}:{error:new In("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(n){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s;if("email"in n){let{email:d,password:f,options:h}=n,g=null,m=null;if(this.flowType==="pkce"){let b=Rt();yield lt(this.storage,`${this.storageKey}-code-verifier`,b),g=yield Nt(b),m=b===g?"plain":"s256"}s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:m},xform:dt})}else if("phone"in n){let{phone:d,password:f,options:h}=n;s=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(o=h?.data)!==null&&o!==void 0?o:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:dt})}else throw new Ot("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(T(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jc})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jc})}else throw new Ot("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new _n}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,o,i,s;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield Lr(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/"),{data:s,error:a}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:dt});return yield Vi(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _n}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:dt}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new _n}:(u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,o,i,s,a;try{if(yield this._removeSession(),"email"in n){let{email:c,options:u}=n,l=null,d=null;if(this.flowType==="pkce"){let h=Rt();yield lt(this.storage,`${this.storageKey}-code-verifier`,h),l=yield Nt(h),d=h===l?"plain":"s256"}let{error:f}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Ot("You must provide either an email or phone number.")}catch(c){if(T(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,o;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield x(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:dt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(yield this._saveSession(u),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return p(this,null,function*(){var r,o,i;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=Rt();yield lt(this.storage,`${this.storageKey}-code-verifier`,c),s=yield Nt(c),a=c===s?"plain":"s256"}return yield x(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Jh})}catch(s){if(T(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new Ye;let{error:i}=yield x(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(T(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Ot("You must provide either an email or phone number and a type")}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(n=>p(this,null,function*(){return n}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o)return{data:{session:n},error:null};let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:$e}):yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:$e})}))}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Ye;let c=s.session,u=null,l=null;if(this.flowType==="pkce"&&n.email!=null){let h=Rt();yield lt(this.storage,`${this.storageKey}-code-verifier`,h),u=yield Nt(h),l=h===u?"plain":"s256"}let{data:d,error:f}=yield x(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:u,code_challenge_method:l}),jwt:c.access_token,xform:$e});if(f)throw f;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(T(i))return{data:{user:null},error:i};throw i}})}_decodeJWT(n){return Kc(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Ye;let r=Date.now()/1e3,o=r,i=!0,s=null,a=Kc(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:u}=yield this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=yield this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(T(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Ye;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!be())throw new kt("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new kt("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new $r("Not a valid PKCE flow url.");let r=$i(window.location.href);if(n){if(!r.code)throw new $r("No code detected.");let{data:K,error:z}=yield this._exchangeCodeForSession(r.code);if(z)throw z;let le=new URL(window.location.href);return le.searchParams.delete("code"),window.history.replaceState(window.history.state,"",le.toString()),{data:{session:K.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new kt(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=r;if(!s||!c||!a||!l)throw new kt("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(c),h=d+f;u&&(h=parseInt(u));let g=h-d;g*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);let m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,h,d);let{data:b,error:M}=yield this._getUser(s);if(M)throw M;let te={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:l,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:te,redirectType:r.type},error:null}}catch(r){if(T(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=$i(window.location.href);return!!(be()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=$i(window.location.href),r=yield Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(Qh(c)&&(c.status===404||c.status===401)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Vi(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=Gh(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(n,r={}){let i=null,s=null;if(this.flowType==="pkce"){let a=Rt();yield lt(this.storage,`${this.storageKey}-code-verifier`,`${a}/PASSWORD_RECOVERY`),i=yield Nt(a),s=a===i?"plain":"s256"}try{return yield x(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(T(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,u,l,d;let{data:f,error:h}=s;if(h)throw h;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return yield x(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return be()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(T(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield x(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Zh(i=>p(this,null,function*(){return yield Yh(i*200),this._debug(r,"refreshing attempt",i),yield x(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:dt})}),(i,s,a)=>a&&a.error&&zi(a.error)&&Date.now()+(i+1)*200-o<Vr)}catch(o){if(this._debug(r,"error",o),T(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),be()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield Lr(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=Math.round(Date.now()/1e3),s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)<i+Xc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Xc}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=yield this._callRefreshToken(o.refresh_token);a&&(console.error(a),zi(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,o;if(!n)throw new Ye;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fr;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Ye;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),T(s)){let a={session:null,error:s};return zi(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(u){s.push(u)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),yield lt(this.storage,this.storageKey,n)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Vi(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vr}ms, refresh threshold is ${sp} ticks`),i<=sp&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Ur)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let s=Rt();yield lt(this.storage,`${this.storageKey}-code-verifier`,s);let a=yield Nt(s),c=s===a?"plain":"s256";this._debug("PKCE","code verifier",`${s.substring(0,5)}...`,"code challenge",a,"method",c);let u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(u.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield x(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:u}=yield x(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(!((i=c?.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(T(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(T(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:o,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),c=null;a.aal&&(c=a.aal);let u=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var Yi=class extends Wi{constructor(e){super(e)}};var Bb=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Zi=class{constructor(e,n,r){var o,i,s,a,c,u,l,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let f=Hh(e);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;let h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:$h,realtime:Vh,auth:Object.assign(Object.assign({},Uh),{storageKey:h}),global:jh},m=zh(r??{},g);this.storageKey=(i=(o=m.auth)===null||o===void 0?void 0:o.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(s=m.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,(u=m.global)===null||u===void 0?void 0:u.fetch),this.fetch=Bh(n,this._getAccessToken.bind(this),(l=m.global)===null||l===void 0?void 0:l.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new xr(`${f}/rest/v1`,{headers:this.headers,schema:(d=m.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ir(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kr(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Bb(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,debug:a},c,u){let l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yi({url:this.authUrl,headers:Object.assign(Object.assign({},l),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,debug:a,fetch:u})}_initRealtimeClient(e){return new Rr(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var cp=(t,e,n)=>new Zi(t,e,n);var nu={production:!1,supabaseUrl:"https://qicmtqadpjvvlaosokft.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpY210cWFkcGp2dmxhb3Nva2Z0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTAyNjc0ODIsImV4cCI6MjAyNTg0MzQ4Mn0.yz4TOR9vOu3Sy_o7A0ZDE9-ykp8-r8uC3PJf7r5mnow",supabaseBypassKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpY210cWFkcGp2dmxhb3Nva2Z0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcxMDI2NzQ4MiwiZXhwIjoyMDI1ODQzNDgyfQ.NI5XosAkAiRYQ9b9YY7JYuqmjiXeJFBAr-mGkgGIqy8"};var Hb=nu.supabaseUrl,zb=nu.supabaseBypassKey,up=cp(Hb,zb);function qb(t,e){if(t&1&&(ti(0,"div"),ff(1),ni()),t&2){let n=e.$implicit;Ld(),qa(" ",n.name," ",n.lastname,"")}}var lp=(()=>{let e=class e{constructor(){this.title="gym-schedule-app",this.rows=[]}ngOnInit(){this.fetchData()}fetchData(){return p(this,null,function*(){try{let{data:r,error:o}=yield up.from("gymUsers").select("*");if(o)throw o;console.log("Fetched data:",r),this.rows=r||[]}catch{console.error("Error fetching data")}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ko({type:e,selectors:[["app-root"]],standalone:!0,features:[ri],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(o,i){o&1&&Ba(0,qb,2,2,"div",0),o&2&&Ha("ngForOf",i.rows)},dependencies:[Ka,Af]});let t=e;return t})();$f(lp,Eh).catch(t=>console.error(t));
